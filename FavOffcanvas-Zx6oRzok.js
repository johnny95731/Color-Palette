import{d as e,c as a,r as l,h as t,t as s,u as o,w as n,o as r,a as c,b as p,n as d,e as u,f as i,_ as v,g as _,i as f,j as y,k as b,l as k,m as C,p as h,q as x,s as m,v as g,x as B,y as P,z as $,A,F as E,B as W,C as D,D as V,E as F,G as O}from"./index-2J5s--mM.js";const j={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",colorBlock:"_colorBlock_dypbn_1",favOffcanvas:"_favOffcanvas_dypbn_15",container:"_container_dypbn_21",header:"_header_dypbn_37",menuBar:"_menuBar_dypbn_58",selected:"_selected_dypbn_69",pageContent:"_pageContent_dypbn_74",delWrapper:"_delWrapper_dypbn_84",paletteBlock:"_paletteBlock_dypbn_106",caretWrapper:"_caretWrapper_dypbn_155",appendPlt:"_appendPlt_dypbn_178"},w={type:"button","aria-label":"刪除書籤"},H=e({__name:"ColorBlock",props:{hex:{}},setup(e){const b=e,k=a((()=>l(t(b.hex))>127.5)),C=a((()=>({filter:s(k)?"invert(1)":void 0}))),h=o(),x=()=>{h.favColorsChanged(b.hex)};return(e,a)=>n([e.hex],(()=>(r(),c("li",{class:y(u(j).colorBlock),style:d({backgroundColor:b.hex})},[p(v,{class:"ripple",style:d(C.value),"prepend-icon":"copy",text:b.hex,"aria-label":`複製HEX碼${b.hex}`,variant:"flat",onClick:a[0]||(a[0]=e=>u(i)(b.hex))},null,8,["style","text","aria-label"]),_("span",{class:y(u(j).delWrapper)},[_("button",w,[p(f,{type:"delete",onClick:x})])],2)],6))),a,1)}}),M=e({__name:"PaletteBlock",props:{plt:{}},setup(e){const l=e,t=l.plt.split("-").map((e=>`#${e}`)),n=a((()=>Math.round(1e4/t.length)/100)),i=a((()=>`linear-gradient(90deg, ${t.reduce(((e,a,l)=>e+=`${a} ${l*s(n)}%,${a} ${(l+1)*s(n)}%,`),"").slice(0,-1)})`)),v=b(),x=o(),m=()=>{for(const e of t)if(!h(e))return;v.setPlt(t)},g=()=>x.favPltsChanged(l.plt);return(e,a)=>(r(),c("li",{class:y(u(j).paletteBlock)},[_("div",{style:d({background:i.value})},[_("div",{class:y(u(j).caretWrapper)},[_("button",{type:"button","aria-label":"開啟書籤",onClick:m},[p(f,{type:"caretLeft"})])],2),_("span",{class:y(u(j).delWrapper)},[_("button",{type:"button","aria-label":"刪除書籤",onClick:g},[p(f,{type:"delete"})])],2)],4),_("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:a[0]||(a[0]=(...e)=>u(C)&&u(C)(...e))},k(e.plt),1)],2))}}),X=e({__name:"FavOffcanvas",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:x(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,n=m(e,"modelValue"),d=["Colors","Palettes"],i=g(0),f=g([]);function C(e){var a;O(e)&&(e.preventDefault(),s(i)!==d.length-1?null==(a=s(f)[++i.value])||a.$el.focus():(n.value=0,t("focusoutDialog")))}B(n,(async e=>{var a;await P(),e?null==(a=s(f)[s(i)])||a.$el.focus():h.setEditingIdx()}));const h=b(),x=o(),w=a((()=>h.cards.map((e=>e.hex.slice(1))).join("-"))),X=a((()=>x.plts.includes(s(w))?{icon:"unfavPallete",text:"Remove Pallete"}:{icon:"favPallete",text:"Append Pallete"}));function q(){x.favPltsChanged(s(w)),i.value=1}return(e,a)=>(r(),$(F,{"content-class":u(j).favOffcanvas,role:"dialog",eager:1,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e)},{default:A((()=>[_("div",{class:y(u(j).container)},[_("header",{class:y(u(j).header)},[a[2]||(a[2]=_("h2",null,"Bookmarks",-1)),p(v,{icon:"close","aria-label":"關閉",onClick:a[0]||(a[0]=e=>n.value=0)})],2),_("div",{class:y(u(j).menuBar)},[(r(),c(E,null,W(d,((e,a)=>p(v,{key:`page ${e}`,ref_for:1,ref:e=>f.value[a]=e,text:e,class:y(a===i.value?u(j).selected:void 0),onClick:e=>i.value=a},null,8,["text","class","onClick"]))),64))],2),_("ul",{class:y(u(j).pageContent)},[0===i.value?(r(1),c(E,{key:0},W(u(x).colors,(e=>(r(),$(H,{key:`favColor ${e}`,hex:e},null,8,["hex"])))),128)):1===i.value?(r(1),c(E,{key:1},W(u(x).plts,(e=>(r(),$(M,{key:`favPlt ${e}`,plt:e},null,8,["plt"])))),128)):D("",1)],2),p(v,{"prepend-icon":X.value.icon,class:y(u(j).appendPlt),onKeydown:C,onClick:q},{default:A((()=>[V(k(X.value.text),1)])),_:1},8,["prepend-icon","class"])],2)])),_:1},8,["content-class","modelValue"]))}});export{X as default};
