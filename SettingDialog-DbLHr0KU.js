import{d as e,p as l,s as a,c as o,G as t,H as s,v as n,q as i,o as r,a as u,I as d,J as c,g as v,K as m,j as b,L as h,t as p,B as f,k as g,M as _,x as y,N as x,O as k,P as C,Q as w,R as B,y as V,z as A,e as D,S as I,b as j,_ as E,F,A as P,n as W,T as S,U,V as K,W as L,X as M,Y as R,C as T,D as O,E as $}from"./index-TD0ELdDV.js";const q={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",settingDialog:"_settingDialog_xcanb_9",header:"_header_xcanb_22",menubar:"_menubar_xcanb_43",tab:"_tab_xcanb_49",region:"_region_xcanb_57",content:"_content_xcanb_67",buttons:"_buttons_xcanb_108",applyBtn:"_applyBtn_xcanb_121",resetBtn:"_resetBtn_xcanb_126"},z={class:"switch-wrapper"},G=["id","value","checked"],H=["aria-checked","value"],J=["for"],N=e({__name:"TheSwitch",props:l({inputId:{},label:{},hideLabel:{type:Boolean},value:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:l(["click"],["update:modelValue"]),setup(e,{emit:l}){const g=e,_=a(),y=a(),x=o((()=>g.inputId??t("slider"))),k=o((()=>{var e;return g.label?(null==(e=g.label)?void 0:e.startsWith("#"))?{"aria-labelledby":g.label.slice(1)}:{"aria-label":g.label}:{}}));s((()=>{var e;if(!(null==(e=g.label)?void 0:e.startsWith("#")))return;const l=document.getElementById(g.label.slice(1));l&&(l.htmlFor=x.value)})),n((()=>[g.label,x.value]),((e,l)=>{const a=e[0]===l[0],o=e[1]===l[1];if(a||[l[0],e[0]].forEach(((l,a)=>{if(l&&l.startsWith("#")){const o=document.getElementById(l.slice(1));o&&(0===a?o.removeAttribute("for"):o.htmlFor=e[1])}})),!o&&e[0]&&e[0].startsWith("#")){const l=document.getElementById(e[0].slice(1));l&&(l.htmlFor=e[1])}}));const C=i(e,"modelValue"),w=l,B=a(C.value??0);function V(){B.value=!B.value,w("click",B.value)}function A(e){" "===e.key.toLowerCase()&&(B.value=!B.value,w("click",B.value))}return n((()=>C.value),(()=>{C.value&&C.value!==B.value&&(B.value=C.value)})),(e,l)=>(r(),u("div",z,[d(v("input",m({ref_key:"inputRef",ref:_},k.value,{id:x.value,type:"checkbox",value:e.value,checked:B.value,"onUpdate:modelValue":l[0]||(l[0]=e=>B.value=e),onFocus:l[1]||(l[1]=e=>{var l;null==(l=y.value)||l.focus()})}),null,16,G),[[c,B.value]]),v("div",m({ref_key:"switchRef",ref:y},k.value,{class:"switch-slider",tabindex:"0",role:"switch","aria-checked":B.value,value:e.value,onClick:V,onKeydown:A}),null,16,H),k.value["aria-label"]?(r(),u("label",{key:0,class:b({"hide-label":e.hideLabel}),for:x.value,onClick:l[2]||(l[2]=h((e=>{var l;V(),null==(l=y.value)||l.focus()}),["prevent"]))},p(k.value["aria-label"]),11,J)):f("",1)]))}}),Q=v("h2",null,"Settings",-1),X=v("h3",{id:"title-Border"}," Border ",-1),Y=v("span",null,"Show",-1),Z=v("label",{id:"border-width"},"Width(px)",-1),ee=v("h3",null,"Transition",-1),le=v("label",{id:"transition-position"},"Position1(ms)",-1),ae=v("label",{id:"transition-color"},"Color(ms)",-1),oe={id:"contrast-coeff-name"},te=e({__name:"SettingDialog",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:l(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,s=i(e,"modelValue"),d=g(),c=_(),m=["Card","Contrast"],h=a(0),z=a([]);function G(e){$(e)&&(e.preventDefault(),s.value=0,t("focusoutDialog"))}n(s,(async e=>{var l;await y(),e&&(null==(l=z.value[h.value])||l.$el.focus()),e&&1===h.value&&(d.setIsAdjustingPlt("start"),d.adjustContrast(ue.method,ue[ue.method]))}));const H={...x,color:q.color5,backgroundColor:q.color1,"--overlay-hover-opacity":0},J=o((()=>m.map(((e,l)=>l===h.value?H:void 0)))),te=e=>{1===e?(d.setIsAdjustingPlt("start"),d.adjustContrast(ue.method,ue[ue.method])):1===h.value&&d.setIsAdjustingPlt("cancel"),h.value=e},se=k({show:c.border.show,width:c.border.width}),ne=k({pos:c.transition.pos,color:c.transition.color}),ie=e=>{se.show=e,c.setBorder("show",e)},re=(e,l)=>{"pos"===l?ne.pos=e:ne.color=e,c.setTransition(l,e)},ue=k((()=>{const e={method:C[0]};return C.forEach((l=>{e[l]=1})),e})()),de=o((()=>"gamma"===ue.method?{max:w,coeff:"gamma"}:{max:B,coeff:"scale"}));function ce(e){ue[ue.method]=e,d.adjustContrast(ue.method,ue[ue.method])}const ve=e=>{d.setIsAdjustingPlt(e),ce(1)};return(e,l)=>(r(),V(O,{role:"dialog",eager:1,transition:"scroll-y-dialog",modelValue:s.value,"onUpdate:modelValue":l[10]||(l[10]=e=>s.value=e)},{default:A((()=>[v("div",{class:b(D(q).settingDialog)},[l[0]||(I(-1),l[0]=v("header",{class:b(D(q).header)},[Q,j(E,{icon:"close","aria-label":"close",onClick:e=>s.value=0},null,8,["onClick"])],2),I(1),l[0]),v("div",{class:b(D(q).menubar)},[(r(),u(F,null,P(m,((e,l)=>j(E,{key:`setting-${e}`,ref_for:1,ref:e=>z.value[l]=e,class:b(D(q).tab),style:W(J.value[l]),text:e,onClick:e=>te(l)},null,8,["class","style","text","onClick"]))),64))],2),v("div",{class:b(D(q).content)},[0===h.value?(r(),u(F,{key:0},[v("div",{class:b(D(q).region),"aria-labelledby":"title-Border"},[X,Y,j(N,{label:"show border","hide-label":"","model-value":se.show,onClick:ie},null,8,["model-value"]),se.show?(r(),u(F,{key:0},[Z,j(S,{label:"#border-width",min:1,max:D(U),step:1,digit:0,"model-value":se.width,onChange:l[1]||(l[1]=e=>{return l=e,se.width=l,void c.setBorder("width",l);var l})},null,8,["max","model-value"]),v("label",{id:"border-color",class:b(D(q).subOption)},"Color",2),j(K,{class:b(D(q).subOption),label:"#border-color",options:D(L),"model-value":D(c).border.color,"onUpdate:modelValue":l[2]||(l[2]=e=>{return l=e,void c.setBorder("color",l);var l})},null,8,["class","options","model-value"])],64)):f("",1)],2),v("div",{class:b(D(q).region)},[ee,le,j(S,{label:"#transition-position",min:0,max:D(M),digit:0,step:50,"model-value":ne.pos,onChange:l[3]||(l[3]=e=>re(e,"pos"))},null,8,["max","model-value"]),ae,j(S,{label:"#transition-color",min:0,max:D(R),digit:0,step:50,"model-value":ne.color,onChange:l[4]||(l[4]=e=>re(e,"color")),onKeydown:l[5]||(l[5]=e=>te(1))},null,8,["max","model-value"])],2)],64)):1===h.value?(r(),u("div",{key:1,class:b(D(q).region)},[l[6]||(I(-1),l[6]=v("label",{id:"contrast-method"},[T("Method")]),I(1),l[6]),j(K,{label:"#contrast-method",options:D(C),modelValue:ue.method,"onUpdate:modelValue":l[7]||(l[7]=e=>ue.method=e)},null,8,["options","modelValue"]),v("label",oe,p(de.value.coeff),1),j(S,{label:"#contrast-coeff-name",min:0,max:de.value.max,"model-value":ue[ue.method],onChange:l[8]||(l[8]=e=>ce(e))},null,8,["max","model-value"]),l[9]||(I(-1),l[9]=v("div",{class:b(D(q).buttons)},[j(E,{text:"Reset",class:b(D(q).resetBtn),onClick:e=>ve("reset")},null,8,["class","onClick"]),j(E,{text:"Apply",class:b(D(q).applyBtn),onKeydown:G,onClick:e=>ve("start")},null,8,["class","onClick"])],2),I(1),l[9])],2)):f("",1)],2)],2)])),_:1},8,["modelValue"]))}});export{te as default};
