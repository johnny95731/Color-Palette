import{d as a,c as e,Y as l,Z as t,a4 as o,a5 as s,W as n,l as r,x as c,J as i,q as p,V as u,z as d,b as _,a2 as k,X as y,s as m,a6 as x,U as f,P as C,I as b,i as v,a7 as g,u as h,r as z,w as B,a8 as $,n as P,F as V,E as W,y as H,A as O,L as w,a9 as E}from"./index-w-gCDaYi.js";const X={container:"_container_z8mxy_1",header:"_header_z8mxy_16",menuBar:"_menuBar_z8mxy_37",selected:"_selected_z8mxy_48",pageContent:"_pageContent_z8mxy_53",delWrapper:"_delWrapper_z8mxy_62",paletteBlock:"_paletteBlock_z8mxy_84",colorBlock:"_colorBlock_z8mxy_84",caretWrapper:"_caretWrapper_z8mxy_136",appendPlt:"_appendPlt_z8mxy_159"},A=a({__name:"ColorBlock",props:{hex:{}},setup(a){const C=a,b=e((()=>l(t(C.hex))>127.5)),v=e((()=>({filter:o(b)?"invert(1)":void 0}))),g=s(),h=()=>{g.favColorsChanged(C.hex)};return(a,e)=>n([a.hex],(()=>(r(),c("li",{class:f(_(X).colorBlock),style:d({backgroundColor:C.hex})},[i(y,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:p((({handleClick:a})=>[i(u,{class:"ripple",style:d(v.value),"prepend-icon":"copy",text:C.hex,"aria-label":`複製HEX碼${C.hex}`,variant:"flat",onClick:e=>{_(k)(C.hex),a(e)}},null,8,["style","text","aria-label","onClick"])])),l:1}),m("span",{class:f(_(X).delWrapper)},[m("button",{type:"button","aria-label":"刪除書籤",onClick:h},[i(x,{type:"trash3-fill"})])],2)],6))),e,0)}}),D=["onClick"],M=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const l=a,t=l.plt.split("-").map((a=>`#${a}`)),n=e((()=>Math.round(1e4/t.length)/100)),u=e((()=>`linear-gradient(90deg, ${t.reduce(((a,e,l)=>a+=`${e} ${l*o(n)}%,${e} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),g=C(),h=s(),z=()=>{for(const a of t)if(!v(a))return;g.setPlt(t)},B=()=>h.favPltsChanged(l.plt);return(a,e)=>(r(),c("li",{class:f(_(X).paletteBlock)},[m("div",{style:d({background:u.value})},[m("div",{class:f(_(X).caretWrapper)},[m("button",{type:"button","aria-label":"開啟書籤",onClick:z},[i(x,{type:"caret-left-fill"})])],2),m("span",{class:f(_(X).delWrapper)},[m("button",{type:"button","aria-label":"刪除書籤",onClick:B},[i(x,{type:"trash3-fill"})])],2)],4),i(y,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:p((({handleClick:e})=>[m("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:l=>{_(k)(a.plt),e(l)}},b(a.plt),9,D)])),l:1})],2))}}),U=a({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:g(["focusoutDialog"],["update:modelValue"]),setup(a,{emit:l}){const t=l,n=h(a,"modelValue"),d=["Colors","Palettes"],k=z(0),y=z([]);function x(a){var e;E(a)&&(a.preventDefault(),o(k)!==d.length-1?null==(e=o(y)[++k.value])||e.$el.focus():(n.value=!1,t("focusoutDialog")))}B(n,(async a=>{var e;await $(),a?null==(e=o(y)[o(k)])||e.$el.focus():v.setEditingIdx()}));const v=C(),g=s(),D=e((()=>v.cards.map((a=>a.hex.slice(1))).join("-"))),U=e((()=>g.plts.includes(o(D))?{icon:"bookmark-dash",text:"Remove Pallete"}:{icon:"bookmark-plus",text:"Append Pallete"}));function j(){g.favPltsChanged(o(D)),k.value=1}return(a,e)=>(r(),P(w,{"content-class":_(X).container,role:"dialog",type:"offcanvas",eager:!0,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a)},{default:p((()=>[m("header",{class:f(_(X).header)},[e[2]||(e[2]=m("h2",null,"書籤",-1)),i(u,{icon:"x-lg","aria-label":"關閉",onClick:e[0]||(e[0]=a=>n.value=!1)})],2),m("div",{class:f(_(X).menuBar)},[(r(),c(V,null,W(d,((a,e)=>i(u,{key:`page ${a}`,ref_for:!0,ref:a=>y.value[e]=a,text:a,class:f(e===k.value?_(X).selected:void 0),onClick:a=>k.value=e},null,8,["text","class","onClick"]))),64))],2),m("ul",{class:f(_(X).pageContent)},[0===k.value?(r(!0),c(V,{key:0},W(_(g).colors,(a=>(r(),P(A,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===k.value?(r(!0),c(V,{key:1},W(_(g).plts,(a=>(r(),P(M,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):H("",!0)],2),i(u,{"prepend-icon":U.value.icon,class:f(_(X).appendPlt),onKeydown:x,onClick:j},{default:p((()=>[O(b(U.value.text),1)])),l:1},8,["prepend-icon","class"])])),l:1},8,["content-class","modelValue"]))}});export{U as default};
