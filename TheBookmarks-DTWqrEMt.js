import{d as a,c as e,X as l,Y as t,a3 as o,a4 as s,W as n,l as r,v as c,I as p,y as i,b as u,a1 as d,V as _,s as f,a5 as k,U as x,O as y,G as h,a6 as b,i as m,a7 as C,u as v,r as g,w as B,a8 as $,n as P,q as A,F as V,D,x as E,z as W,K as F,a9 as w}from"./index-Biu7bRIp.js";const X={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",colorBlock:"_colorBlock_1x6ah_1",container:"_container_1x6ah_15",header:"_header_1x6ah_30",menuBar:"_menuBar_1x6ah_51",selected:"_selected_1x6ah_62",pageContent:"_pageContent_1x6ah_67",delWrapper:"_delWrapper_1x6ah_77",paletteBlock:"_paletteBlock_1x6ah_99",caretWrapper:"_caretWrapper_1x6ah_148",appendPlt:"_appendPlt_1x6ah_171"},H={type:"button","aria-label":"刪除書籤"},K=a({__name:"ColorBlock",props:{hex:{}},setup(a){const y=a,h=e((()=>l(t(y.hex))>127.5)),b=e((()=>({filter:o(h)?"invert(1)":void 0}))),m=s(),C=()=>{m.favColorsChanged(y.hex)};return(a,e)=>n([a.hex],(()=>(r(),c("li",{class:x(u(X).colorBlock),style:i({backgroundColor:y.hex})},[p(_,{class:"ripple",style:i(b.value),"prepend-icon":"copy",text:y.hex,"aria-label":`複製HEX碼${y.hex}`,variant:"flat",onClick:e[0]||(e[0]=a=>u(d)(y.hex))},null,8,["style","text","aria-label"]),f("span",{class:x(u(X).delWrapper)},[f("button",H,[p(k,{type:"delete",onClick:C})])],2)],6))),e,1)}}),M=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const l=a,t=l.plt.split("-").map((a=>`#${a}`)),n=e((()=>Math.round(1e4/t.length)/100)),d=e((()=>`linear-gradient(90deg, ${t.reduce(((a,e,l)=>a+=`${e} ${l*o(n)}%,${e} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),_=y(),C=s(),v=()=>{for(const a of t)if(!m(a))return;_.setPlt(t)},g=()=>C.favPltsChanged(l.plt);return(a,e)=>(r(),c("li",{class:x(u(X).paletteBlock)},[f("div",{style:i({background:d.value})},[f("div",{class:x(u(X).caretWrapper)},[f("button",{type:"button","aria-label":"開啟書籤",onClick:v},[p(k,{type:"caretLeft"})])],2),f("span",{class:x(u(X).delWrapper)},[f("button",{type:"button","aria-label":"刪除書籤",onClick:g},[p(k,{type:"delete"})])],2)],4),f("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:e[0]||(e[0]=(...a)=>u(b)&&u(b)(...a))},h(a.plt),1)],2))}}),U=a({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:C(["focusoutDialog"],["update:modelValue"]),setup(a,{emit:l}){const t=l,n=v(a,"modelValue"),i=["Colors","Palettes"],d=g(0),k=g([]);function b(a){var e;w(a)&&(a.preventDefault(),o(d)!==i.length-1?null==(e=o(k)[++d.value])||e.$el.focus():(n.value=!1,t("focusoutDialog")))}B(n,(async a=>{var e;await $(),a?null==(e=o(k)[o(d)])||e.$el.focus():m.setEditingIdx()}));const m=y(),C=s(),H=e((()=>m.cards.map((a=>a.hex.slice(1))).join("-"))),U=e((()=>C.plts.includes(o(H))?{icon:"unfavPallete",text:"Remove Pallete"}:{icon:"favPallete",text:"Append Pallete"}));function j(){C.favPltsChanged(o(H)),d.value=1}return(a,e)=>(r(),P(F,{"content-class":u(X).container,role:"dialog",type:"offcanvas",eager:!0,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a)},{default:A((()=>[f("header",{class:x(u(X).header)},[e[2]||(e[2]=f("h2",null,"書籤",-1)),p(_,{icon:"close","aria-label":"關閉",onClick:e[0]||(e[0]=a=>n.value=!1)})],2),f("div",{class:x(u(X).menuBar)},[(r(),c(V,null,D(i,((a,e)=>p(_,{key:`page ${a}`,ref_for:!0,ref:a=>k.value[e]=a,text:a,class:x(e===d.value?u(X).selected:void 0),onClick:a=>d.value=e},null,8,["text","class","onClick"]))),64))],2),f("ul",{class:x(u(X).pageContent)},[0===d.value?(r(!0),c(V,{key:0},D(u(C).colors,(a=>(r(),P(K,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===d.value?(r(!0),c(V,{key:1},D(u(C).plts,(a=>(r(),P(M,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):E("",!0)],2),p(_,{"prepend-icon":U.value.icon,class:x(u(X).appendPlt),onKeydown:b,onClick:j},{default:A((()=>[W(h(U.value.text),1)])),l:1},8,["prepend-icon","class"])])),l:1},8,["content-class","modelValue"]))}});export{U as default};
