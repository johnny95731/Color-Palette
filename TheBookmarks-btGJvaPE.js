import{d as a,O as e,a7 as l,a8 as t,V as o,ab as s,a5 as n,i as r,o as c,h as i,g as p,f as d,_ as u,k,c as _,aa as f,a6 as C,q as b,n as m,m as y,Z as v,ac as x,a as g,t as h,C as B,ad as $,u as P,r as V,w as O,ae as H,e as W,F as w,j,l as D,x as E,z as X,af as q}from"./index-DRywzBJR.js";const z={container:"_container_6c6d9b5",header:"_header_0a1e913",menuBar:"_menuBar_a43ad2f",selected:"_selected_4e78e3f",pageContent:"_pageContent_1644d68",delWrapper:"_delWrapper_979ab71",paletteBlock:"_paletteBlock_6ecaa93",colorBlock:"_colorBlock_fd64824",caretWrapper:"_caretWrapper_1220ee2",appendPlt:"_appendPlt_2ac1310"},A=a({__name:"ColorBlock",props:{hex:{}},setup(a){const y=a,v=e((()=>l(t(y.hex))>127.5)),x=e((()=>({filter:o(v)?"invert(1)":void 0}))),g=s(),h=()=>{g.l(y.hex)};return(a,e)=>n([a.hex],(()=>(c(),r("li",{class:m(_(z).colorBlock),style:k({backgroundColor:y.hex})},[i(C,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:d((({handleClick:a})=>[i(u,{class:"ripple",style:k(x.value),"prepend-icon":"copy",text:y.hex,"aria-label":`複製HEX碼${y.hex}`,variant:"flat",onClick:e=>{_(f)(y.hex),a(e)}},null,8,["style","text","aria-label","onClick"])])),t:1}),p("span",{class:m(_(z).delWrapper)},[p("button",{type:"button","aria-label":"刪除書籤",onClick:h},[i(b,{type:"trash3-fill"})])],2)],6))),e,0)}}),F=["onClick"],K=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const l=a,t=y(l.plt.split("-"),(a=>`#${a}`)),n=e((()=>v(1/t.length,2))),u=e((()=>`linear-gradient(90deg, ${x(t,((a,e,l)=>a+=`${e} ${l*o(n)}%,${e} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),$=g(),P=s(),V=()=>{for(const a of t)if(!B(a))return;$.o(t)},O=()=>P.i(l.plt);return(a,e)=>(c(),r("li",{class:m(_(z).paletteBlock)},[p("div",{style:k({background:u.value})},[p("div",{class:m(_(z).caretWrapper)},[p("button",{type:"button","aria-label":"開啟書籤",onClick:V},[i(b,{type:"caret-left-fill"})])],2),p("span",{class:m(_(z).delWrapper)},[p("button",{type:"button","aria-label":"刪除書籤",onClick:O},[i(b,{type:"trash3-fill"})])],2)],4),i(C,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:d((({handleClick:e})=>[p("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:l=>{_(f)(a.plt),e(l)}},h(a.plt),9,F)])),t:1})],2))}}),M=a({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:$(["focusoutDialog"],["update:modelValue"]),setup(a,{emit:l}){const t=l,n=P(a,"modelValue"),k=["Colors","Palettes"],f=V(0),C=V([]);function b(a){var e;q(a)&&(a.preventDefault(),o(f)!==k.length-1?null==(e=o(C)[++f.value])||e.$el.focus():(n.value=!1,t("focusoutDialog")))}O(n,(async a=>{var e;await H(),a?null==(e=o(C)[o(f)])||e.$el.focus():v.p()}));const v=g(),x=s(),B=e((()=>y(v.u,(({k:a})=>a.slice(1))).join("-"))),$=e((()=>x._.includes(o(B))?{icon:"bookmark-dash",text:"Remove Pallete"}:{icon:"bookmark-plus",text:"Append Pallete"}));function F(){x.i(o(B)),f.value=1}return(a,e)=>(c(),W(X,{"content-class":_(z).container,role:"dialog",type:"offcanvas",eager:!0,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a)},{default:d((()=>[p("header",{class:m(_(z).header)},[e[2]||(e[2]=p("h2",null,"書籤",-1)),i(u,{icon:"x-lg","aria-label":"關閉",onClick:e[0]||(e[0]=a=>n.value=!1)})],2),p("div",{class:m(_(z).menuBar)},[(c(),r(w,null,j(k,((a,e)=>i(u,{key:`page ${a}`,ref_for:!0,ref:a=>C.value[e]=a,text:a,class:m(e===f.value?_(z).selected:void 0),onClick:a=>f.value=e},null,8,["text","class","onClick"]))),64))],2),p("ul",{class:m(_(z).pageContent)},[0===f.value?(c(!0),r(w,{key:0},j(_(x).C,(a=>(c(),W(A,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===f.value?(c(!0),r(w,{key:1},j(_(x)._,(a=>(c(),W(K,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):D("",!0)],2),i(u,{"prepend-icon":$.value.icon,class:m(_(z).appendPlt),onKeydown:b,onClick:F},{default:d((()=>[E(h($.value.text),1)])),t:1},8,["prepend-icon","class"])])),t:1},8,["content-class","modelValue"]))}});export{M as default};
