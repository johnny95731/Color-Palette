import{d as e,a7 as a,r as l,c as o,aa as s,o as t,a4 as n,w as d,u as i,l as r,x as c,B as u,a1 as m,s as f,ab as p,U as _,ac as b,I as v,y as h,a3 as x,P as k,ad as y,a8 as w,b as V,a as g,ae as C,af as B,ag as z,n as U,q as D,v as K,J as M,V as R,F as S,E as A,_ as F,K as I,ah as L,A as P,L as T,a9 as j}from"./index-w-gCDaYi.js";const q={settingDialog:"_settingDialog_1fzx6_1",header:"_header_1fzx6_9",menubar:"_menubar_1fzx6_30",tab:"_tab_1fzx6_36",selected:"_selected_1fzx6_44",content:"_content_1fzx6_50",region:"_region_1fzx6_56",buttons:"_buttons_1fzx6_93",applyBtn:"_applyBtn_1fzx6_106",resetBtn:"_resetBtn_1fzx6_111"},E={class:"switch"},J=["id","value","checked"],W=["aria-checked","value"],$=["for"],G=e({__name:"TheSwitch",props:a({inputId:{},label:{},hideLabel:{type:Boolean},value:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,k=l(),y=l(),w=o((()=>a.inputId??s("slider"))),V=o((()=>{var e;return a.label?(null==(e=a.label)?void 0:e.startsWith("#"))?{"aria-labelledby":a.label.slice(1)}:{"aria-label":a.label}:{}}));t((()=>{var e;if(!(null==(e=a.label)?void 0:e.startsWith("#")))return;const l=document.getElementById(a.label.slice(1));l&&(l.htmlFor=n(w))})),d((()=>[a.label,n(w)]),((e,a)=>{var l;const o=e[0]===a[0],s=e[1]===a[1];if(o||[a[0],e[0]].forEach(((a,l)=>{if(a&&a.startsWith("#")){const o=document.getElementById(a.slice(1));o&&(0===l?o.removeAttribute("for"):o.setAttribute("for",e[1]))}})),!s&&(null==(l=e[0])?void 0:l.startsWith("#"))){const a=document.getElementById(e[0].slice(1));a&&(a.htmlFor=e[1])}}));const g=i(e,"modelValue");function C(){x(g)}function B(e){" "===e.key.toLowerCase()&&x(g)}return(e,a)=>(r(),c("div",E,[u(f("input",p({class:"field",ref_key:"inputRef",ref:k},V.value,{id:w.value,type:"checkbox",value:e.value,checked:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),onFocus:a[1]||(a[1]=e=>{var a;null==(a=y.value)||a.focus()})}),null,16,J),[[m,g.value]]),f("div",p({ref_key:"switchRef",ref:y},V.value,{class:"switch__slider",tabindex:"0",role:"switch","aria-checked":g.value,value:e.value,onClick:C,onKeydown:B}),null,16,W),V.value["aria-label"]?(r(),c("label",{key:0,class:_([e.hideLabel&&"field"]),for:w.value,onClick:a[2]||(a[2]=b((e=>{var a;C(),null==(a=y.value)||a.focus()}),["prevent"]))},v(V.value["aria-label"]),11,$)):h("",!0)]))}}),H=["white","gray","black"],N=e({__name:"SettingDialog",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:a(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:a}){const s=a,t=i(e,"modelValue"),n=k(),u=y(),m=["Card","Contrast"],p=l(0),b=l([]);function v(e){j(e)&&(e.preventDefault(),t.value=!1,s("focusoutDialog"))}d(t,(async e=>{var a;await w(),e&&1===p.value?(n.setIsAdjustingPlt("start"),N()):!e&&n.isAdjustingPlt&&n.setIsAdjustingPlt("cancel"),null==(a=V(b)[V(p)])||a.$el.focus()}));const x=e=>{1===e?(n.setIsAdjustingPlt("start"),N()):1===p.value&&n.setIsAdjustingPlt("cancel"),p.value=e},E=g({pos:u.transition.pos,color:u.transition.color}),J=(e,a)=>{"pos"===a?E.pos=e:E.color=e,u.setTransition(a,e)},W=g(C.reduce(((e,a,l)=>(e[l]=1)&&e),{method:0})),$=o((()=>W.method?B:z));function N(){n.adjustContrast(W.method,W[W.method])}const O=e=>{n.setIsAdjustingPlt(e),W[W.method]=1,N()};return(e,a)=>(r(),U(T,{"content-class":V(q).settingDialog,role:"dialog",eager:!0,transition:"slide-y",transparent:"",modelValue:t.value,"onUpdate:modelValue":a[11]||(a[11]=e=>t.value=e)},{default:D((()=>[a[0]||(K(-1),(a[0]=f("header",{class:_(V(q).header)},[a[12]||(a[12]=f("h2",null,"設定",-1)),M(R,{icon:"x-lg","aria-label":"close",onClick:e=>t.value=!1},null,8,["onClick"])],2)).cacheIndex=0,K(1),a[0]),f("div",{class:_(V(q).menubar)},[(r(),c(S,null,A(m,((e,a)=>M(R,{key:`setting-${e}`,ref_for:!0,ref:e=>b.value[a]=e,class:_([V(q).tab,a===p.value&&V(q).selected]),text:e,onClick:e=>x(a)},null,8,["class","text","onClick"]))),64))],2),f("div",{class:_(V(q).content)},[0===p.value?(r(),c(S,{key:0},[f("div",{class:_(V(q).region),"aria-labelledby":"title-Border"},[a[14]||(a[14]=f("h3",{id:"title-Border"}," Border ",-1)),a[15]||(a[15]=f("span",null,"Show",-1)),M(G,{label:"show border","hide-label":"","model-value":V(u).border.show,"onUpdate:modelValue":a[1]||(a[1]=e=>V(u).setBorder("show",e))},null,8,["model-value"]),V(u).border.show?(r(),c(S,{key:0},[a[13]||(a[13]=f("label",{id:"border-width"},"Width(px)",-1)),M(F,{label:"#border-width",max:V(10),"model-value":V(u).border.width,"onUpdate:modelValue":a[2]||(a[2]=e=>V(u).setBorder("width",e))},null,8,["max","model-value"]),f("label",{id:"border-color",class:_(V(q).subOption)},"Color",2),M(I,{class:_(V(q).subOption),label:"#border-color",items:V(H),"model-value":V(u).border.color,"letter-case":"start","onUpdate:modelValue":a[3]||(a[3]=e=>V(u).setBorder("color",e))},null,8,["class","items","model-value"])],64)):h("",!0)],2),f("div",{class:_(V(q).region)},[a[16]||(a[16]=f("h3",null,"Transition",-1)),a[17]||(a[17]=f("label",{id:"transition-position"},"Position1(ms)",-1)),M(F,{label:"#transition-position",max:V(1e3),step:"50","model-value":V(u).transition.pos,"onUpdate:modelValue":a[4]||(a[4]=e=>J(e,"pos"))},null,8,["max","model-value"]),a[18]||(a[18]=f("label",{id:"transition-color"},"Color(ms)",-1)),M(F,{label:"#transition-color",max:V(3e3),step:"50","model-value":E.color,"onUpdate:modelValue":a[5]||(a[5]=e=>J(e,"color")),onKeydown:a[6]||(a[6]=L((e=>x(1)),["tab"]))},null,8,["max","model-value"])],2)],64)):1===p.value?(r(),c("div",{key:1,class:_(V(q).region)},[a[7]||(K(-1),(a[7]=f("label",{id:"contrast-method"},[a[19]||(a[19]=P("Method"))])).cacheIndex=7,K(1),a[7]),M(I,{label:"#contrast-method",items:V(C),index:W.method,"onUpdate:index":a[8]||(a[8]=e=>{return a=e,W.method=a,n.setIsAdjustingPlt("reset"),void N();var a})},null,8,["items","index"]),2!==W.method?(r(),c(S,{key:0},[a[20]||(a[20]=f("label",{id:"contrast-coeff-name"},"Coeff.",-1)),M(F,{label:"#contrast-coeff-name",max:$.value,step:"0.001","model-value":W[W.method],"onUpdate:modelValue":a[9]||(a[9]=e=>{W[W.method]=e,N()})},null,8,["max","model-value"])],64)):h("",!0),a[10]||(K(-1),(a[10]=f("div",{class:_(V(q).buttons)},[M(R,{text:"Reset",class:_(V(q).resetBtn),onClick:e=>O("reset")},null,8,["class","onClick"]),M(R,{text:"Apply",class:_(V(q).applyBtn),onKeydown:v,onClick:e=>O("start")},null,8,["class","onClick"])],2)).cacheIndex=10,K(1),a[10])],2)):h("",!0)],2)])),l:1},8,["content-class","modelValue"]))}});export{N as default};
