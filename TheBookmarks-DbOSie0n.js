import{d as e,c as a,Y as l,Z as t,a4 as o,a5 as s,W as n,l as r,x as c,J as i,q as p,V as u,z as d,b as _,a2 as k,X as f,s as C,a6 as y,U as b,P as m,I as v,i as x,a7 as g,u as h,r as j,w as B,a8 as $,n as P,F as V,E as W,y as H,A as O,L as w,a9 as E}from"./index-Bey6Z6f6.js";const X={container:"_container_8eeje_1",header:"_header_8eeje_16",menuBar:"_menuBar_8eeje_37",selected:"_selected_8eeje_48",pageContent:"_pageContent_8eeje_53",delWrapper:"_delWrapper_8eeje_63",paletteBlock:"_paletteBlock_8eeje_85",colorBlock:"_colorBlock_8eeje_85",caretWrapper:"_caretWrapper_8eeje_137",appendPlt:"_appendPlt_8eeje_160"},A=e({__name:"ColorBlock",props:{hex:{}},setup(e){const m=e,v=a((()=>l(t(m.hex))>127.5)),x=a((()=>({filter:o(v)?"invert(1)":void 0}))),g=s(),h=()=>{g.favColorsChanged(m.hex)};return(e,a)=>n([e.hex],(()=>(r(),c("li",{class:b(_(X).colorBlock),style:d({backgroundColor:m.hex})},[i(f,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:p((({handleClick:e})=>[i(u,{class:"ripple",style:d(x.value),"prepend-icon":"copy",text:m.hex,"aria-label":`複製HEX碼${m.hex}`,variant:"flat",onClick:a=>{_(k)(m.hex),e(a)}},null,8,["style","text","aria-label","onClick"])])),l:1}),C("span",{class:b(_(X).delWrapper)},[C("button",{type:"button","aria-label":"刪除書籤",onClick:h},[i(y,{type:"trash3-fill"})])],2)],6))),a,0)}}),D=["onClick"],M=e({__name:"PaletteBlock",props:{plt:{}},setup(e){const l=e,t=l.plt.split("-").map((e=>`#${e}`)),n=a((()=>Math.round(1e4/t.length)/100)),u=a((()=>`linear-gradient(90deg, ${t.reduce(((e,a,l)=>e+=`${a} ${l*o(n)}%,${a} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),g=m(),h=s(),j=()=>{for(const e of t)if(!x(e))return;g.setPlt(t)},B=()=>h.favPltsChanged(l.plt);return(e,a)=>(r(),c("li",{class:b(_(X).paletteBlock)},[C("div",{style:d({background:u.value})},[C("div",{class:b(_(X).caretWrapper)},[C("button",{type:"button","aria-label":"開啟書籤",onClick:j},[i(y,{type:"caret-left-fill"})])],2),C("span",{class:b(_(X).delWrapper)},[C("button",{type:"button","aria-label":"刪除書籤",onClick:B},[i(y,{type:"trash3-fill"})])],2)],4),i(f,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:p((({handleClick:a})=>[C("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:l=>{_(k)(e.plt),a(l)}},v(e.plt),9,D)])),l:1})],2))}}),U=e({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:g(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,n=h(e,"modelValue"),d=["Colors","Palettes"],k=j(0),f=j([]);function y(e){var a;E(e)&&(e.preventDefault(),o(k)!==d.length-1?null==(a=o(f)[++k.value])||a.$el.focus():(n.value=!1,t("focusoutDialog")))}B(n,(async e=>{var a;await $(),e?null==(a=o(f)[o(k)])||a.$el.focus():x.setEditingIdx()}));const x=m(),g=s(),D=a((()=>x.cards.map((e=>e.hex.slice(1))).join("-"))),U=a((()=>g.plts.includes(o(D))?{icon:"bookmark-dash",text:"Remove Pallete"}:{icon:"bookmark-plus",text:"Append Pallete"}));function q(){g.favPltsChanged(o(D)),k.value=1}return(e,a)=>(r(),P(w,{"content-class":_(X).container,role:"dialog",type:"offcanvas",eager:!0,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e)},{default:p((()=>[C("header",{class:b(_(X).header)},[a[2]||(a[2]=C("h2",null,"書籤",-1)),i(u,{icon:"x-lg","aria-label":"關閉",onClick:a[0]||(a[0]=e=>n.value=!1)})],2),C("div",{class:b(_(X).menuBar)},[(r(),c(V,null,W(d,((e,a)=>i(u,{key:`page ${e}`,ref_for:!0,ref:e=>f.value[a]=e,text:e,class:b(a===k.value?_(X).selected:void 0),onClick:e=>k.value=a},null,8,["text","class","onClick"]))),64))],2),C("ul",{class:b(_(X).pageContent)},[0===k.value?(r(!0),c(V,{key:0},W(_(g).colors,(e=>(r(),P(A,{key:`favColor ${e}`,hex:e},null,8,["hex"])))),128)):1===k.value?(r(!0),c(V,{key:1},W(_(g).plts,(e=>(r(),P(M,{key:`favPlt ${e}`,plt:e},null,8,["plt"])))),128)):H("",!0)],2),i(u,{"prepend-icon":U.value.icon,class:b(_(X).appendPlt),onKeydown:y,onClick:q},{default:p((()=>[O(v(U.value.text),1)])),l:1},8,["prepend-icon","class"])])),l:1},8,["content-class","modelValue"]))}});export{U as default};
