import{d as a,c as n,ad as ie,ae as ue,a5 as Y,ah as Ru,ab as re,m as y,o as x,k as v,q as C,j as g,_ as j,H as R,b as m,ag as ke,ac as A,N as ce,l as h,L as oe,a6 as ee,f as l,u as s,t as F,B as z,J as T,e as c,r as e,w as r,n as p,h as f,p as V,F as U,D as B,I as S}from"./index-B1MLadSF.js";import{_ as de}from"./VDialog.vue_vue_type_style_index_0_lang-RN5oy6TX.js";const q={bookmarkers:"_bookmarkers_d319836",pageContent:"_pageContent_67ce6da",delWrapper:"_delWrapper_1c89be3",paletteBlock:"_paletteBlock_dbd98a9",colorBlock:"_colorBlock_fe3c75e",caretWrapper:"_caretWrapper_815895c",appendPlt:"_appendPlt_eb9ea18"},D=a({__name:"ColorBlock",props:{hex:{}},setup(a){const e=a,l=n((()=>ie(ue(e.hex))>127.5)),t=n((()=>({filter:Y(l)?"invert(1)":void 0}))),o=Ru(),s=()=>{o.ve(e.hex)};return(a,l)=>re([a.hex],(()=>(x(),y("li",{class:h(m(q).colorBlock),style:R({backgroundColor:e.hex})},[v(A,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:g((({handleClick:a})=>[v(j,{class:"ripple",style:R(t.value),"prepend-icon":"copy",text:e.hex,"aria-label":`複製HEX碼${e.hex}`,variant:"flat",onClick:l=>{m(ke)(e.hex),a(l)}},null,8,["style","text","aria-label","onClick"])])),_:1}),C("span",{class:h(m(q).delWrapper)},[C("button",{type:"button","aria-label":"刪除書籤",onClick:s},[v(ce,{type:"trash3-fill"})])],2)],6))),l,0)}}),De=["onClick"],b=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const e=a,t=oe(e.plt.split("-"),(a=>`#${a}`)),o=n((()=>ee(1/t.length,2))),r=n((()=>`linear-gradient(90deg, ${l(t,((a,e,l)=>a+=`${e} ${l*Y(o)}%,${e} ${(l+1)*Y(o)}%,`),"").slice(0,-1)})`)),p=s(),i=Ru(),c=()=>{for(const a of t)if(!T(a))return;p.B(t)},d=()=>i.ye(e.plt);return(a,e)=>(x(),y("li",{class:h(m(q).paletteBlock)},[C("div",{style:R({background:r.value})},[C("div",{class:h(m(q).caretWrapper)},[C("button",{type:"button","aria-label":"開啟書籤",onClick:c},[v(ce,{type:"caret-left-fill"})])],2),C("span",{class:h(m(q).delWrapper)},[C("button",{type:"button","aria-label":"刪除書籤",onClick:d},[v(ce,{type:"trash3-fill"})])],2)],4),v(A,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:g((({handleClick:l})=>[C("button",{type:"button",class:"btn ripple","aria-label":"複製調色盤HEX碼",onClick:e=>{m(ke)(a.plt),l(e)}},[e[0]||(e[0]=C("div",{class:"btn__overlay"},null,-1)),F(" "+z(a.plt),1)],8,De)])),_:1})],2))}}),G=a({__name:"VBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(a){const l=c(a,"modelValue"),t=e(),o=["Colors","Palettes"],i=e(0);r(l,(async a=>{var e,l;await p(),a?null==(l=null==(e=m(t))?void 0:e.tabRefs[m(i)])||l.$el.focus():u.It()}));const d=a=>{var e,s;S(a)&&(a.preventDefault(),Y(i)!==o.length-1?null==(s=null==(e=m(t))?void 0:e.tabRefs[++i.value])||s.$el.focus():l.value=!1)},u=s(),_=Ru(),k=n((()=>oe(u.T,(({yt:a})=>a.slice(1))).join("-"))),$=n((()=>{const a=_.de.includes(Y(k));return{aa:"bookmark-"+(a?"dash":"plus"),ea:(a?"Remove":"Append")+" Pallete"}})),P=()=>{_.ye(Y(k)),i.value=1};return(a,e)=>(x(),f(de,{ref_key:"dialogRef",ref:t,overlayProps:{contentClass:m(q).bookmarkers},title:"書籤",tabs:o,transparent:!1,transition:"slide-x",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),"tab-idx":i.value,"onUpdate:tabIdx":e[1]||(e[1]=a=>i.value=a)},{actions:g((()=>[v(j,{class:h(m(q).appendPlt),"prepend-icon":$.value.aa,text:$.value.ea,onKeydown:d,onClick:P},null,8,["class","prepend-icon","text"])])),default:g((()=>[C("ul",{class:h(m(q).pageContent)},[0===i.value?(x(!0),y(U,{key:0},B(m(_).fe,(a=>(x(),f(D,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===i.value?(x(!0),y(U,{key:1},B(m(_).de,(a=>(x(),f(b,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):V("",!0)],2)])),_:1},8,["overlayProps","modelValue","tab-idx"]))}});export{G as default};