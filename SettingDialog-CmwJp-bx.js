import{d as e,ae as a,r as l,N as o,af as t,I as s,ag as n,w as i,u as d,h as r,o as u,v as c,g as m,l as b,y as p,ah as v,ai as f,n as h,t as y,A as _,a as x,aj as V,ac as k,c as w,K as g,ab as C,ak as U,al as B,am as D,e as K,an as j,f as I,k as M,_ as P,F as R,V as S,X as F,ao as N,s as T,x as A,ad as L}from"./index-Blx-l8EN.js";import{_ as O}from"./VDialog.vue_vue_type_style_index_0_lang-BP1l6pfz.js";const W=["white","gray","black"],X=["modern","legacy"],q={settingDialog:"_settingDialog_9bb1593",region:"_region_59377cb",applyBtn:"_applyBtn_a9422a6"},z={class:"switch"},E=["id","value","checked"],G=["aria-checked","value"],H=["for"],J=e({__name:"VSwitch",props:a({inputId:{},label:{},hideLabel:{type:Boolean},value:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,x=l(),V=l(),k=o((()=>a.inputId??t("slider"))),w=o((()=>{var e;return a.label?(null==(e=a.label)?void 0:e.startsWith("#"))?{"aria-labelledby":a.label.slice(1)}:{"aria-label":a.label}:{}}));s((()=>{var e;if(!(null==(e=a.label)?void 0:e.startsWith("#")))return;const l=document.getElementById(a.label.slice(1));l&&(l.htmlFor=n(k))})),i((()=>[a.label,n(k)]),((e,a)=>{var l;const o=e[0]===a[0],t=e[1]===a[1];if(o||[a[0],e[0]].forEach(((a,l)=>{if(a&&a.startsWith("#")){const o=document.getElementById(a.slice(1));o&&(0===l?o.removeAttribute("for"):o.setAttribute("for",e[1]))}})),!t&&(null==(l=e[0])?void 0:l.startsWith("#"))){const a=document.getElementById(e[0].slice(1));a&&(a.htmlFor=e[1])}}));const g=d(e,"modelValue");function C(){_(g)}function U(e){" "===e.key.toLowerCase()&&_(g)}return(e,a)=>(u(),r("div",z,[c(m("input",v({class:"field",ref_key:"inputRef",ref:x},w.value,{id:k.value,type:"checkbox",value:e.value,checked:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),onFocus:a[1]||(a[1]=e=>{var a;null==(a=V.value)||a.focus()})}),null,16,E),[[p,g.value]]),m("div",v({ref_key:"switchRef",ref:V},w.value,{class:"switch__slider",tabindex:"0",role:"switch","aria-checked":g.value,value:e.value,onClick:C,onKeydown:U}),null,16,G),w.value["aria-label"]?(u(),r("label",{key:0,class:h([e.hideLabel&&"field"]),for:k.value,onClick:a[2]||(a[2]=f((e=>{var a;C(),null==(a=V.value)||a.focus()}),["prevent"]))},y(w.value["aria-label"]),11,H)):b("",!0)]))}}),Q=e({__name:"SettingDialog",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const a=d(e,"modelValue"),t=l(),s=x(),n=V(),c=["Card","Contrast"],p=l(0);function v(e){L(e)&&(e.preventDefault(),a.value=!1)}i(a,(async e=>{var a,l;await k(),e&&1===p.value?(s.l("start"),E()):!e&&s.o&&s.l("cancel"),null==(l=null==(a=t.value)?void 0:a.tabRefs[w(p)])||l.$el.focus()})),i(p,((e,a)=>{1===e?(s.l("start"),E()):1===a&&s.l("cancel")}));const f=g({pos:n.transition.pos,color:n.transition.color}),y=(e,a)=>{"pos"===a?f.pos=e:f.color=e,n.t(a,e)},_=g(C(U,((e,a,l)=>(e[l]=1,e)),{method:0})),z=o((()=>_.method?B:D));function E(){s.i(_.method,_[_.method])}const G=e=>{s.l(e),_[_.method]=1,E()};return(e,l)=>(u(),K(O,{ref_key:"dialogRef",ref:t,overlayProps:{contentClass:w(q).settingDialog},title:"設定",tabs:c,modelValue:a.value,"onUpdate:modelValue":l[12]||(l[12]=e=>a.value=e),"tab-idx":p.value,"onUpdate:tabIdx":l[13]||(l[13]=e=>p.value=e)},j({default:I((()=>[0===p.value?(u(),r(R,{key:0},[m("div",{class:h(w(q).region),"aria-labelledby":"title-border"},[l[16]||(l[16]=m("h3",{id:"title-border"}," Border ",-1)),l[17]||(l[17]=m("span",null,"Show",-1)),M(J,{label:"show border","hide-label":"","model-value":w(n).border.show,"onUpdate:modelValue":l[0]||(l[0]=e=>w(n).u("show",e))},null,8,["model-value"]),w(n).border.show?(u(),r(R,{key:0},[l[14]||(l[14]=m("label",{id:"border-width"},"Width(px)",-1)),M(S,{label:"#border-width",max:w(10),"model-value":w(n).border.width,"onUpdate:modelValue":l[1]||(l[1]=e=>w(n).u("width",e))},null,8,["max","model-value"]),l[15]||(l[15]=m("label",{id:"border-color"},"Color",-1)),M(F,{label:"#border-color",items:w(W),"letter-case":"start","model-value":w(n).border.color,"onUpdate:modelValue":l[2]||(l[2]=e=>w(n).u("color",e))},null,8,["items","model-value"])],64)):b("",!0)],2),m("div",{class:h(w(q).region),"aria-labelledby":"title-transition"},[l[18]||(l[18]=m("h3",{id:"title-transition"}," Transition ",-1)),l[19]||(l[19]=m("label",{id:"transition-position"},"Position(ms)",-1)),M(S,{label:"#transition-position",max:w(1e3),step:"50","model-value":w(n).transition.pos,"onUpdate:modelValue":l[3]||(l[3]=e=>y(e,"pos"))},null,8,["max","model-value"]),l[20]||(l[20]=m("label",{id:"transition-color"},"Color(ms)",-1)),M(S,{label:"#transition-color",max:w(3e3),step:"50","model-value":f.color,"onUpdate:modelValue":l[4]||(l[4]=e=>y(e,"color"))},null,8,["max","model-value"])],2),m("div",{class:h(w(q).region),"aria-labelledby":"title-Transition"},[l[21]||(l[21]=m("h3",{id:"title-others"}," Others ",-1)),l[22]||(l[22]=m("label",{id:"color-notation"},"Color Notation",-1)),M(F,{modelValue:w(n).m,"onUpdate:modelValue":l[5]||(l[5]=e=>w(n).m=e),label:"#color-notation",items:w(X),"letter-case":"start",onKeydown:l[6]||(l[6]=N((e=>p.value=1),["tab"]))},null,8,["modelValue","items"])],2)],64)):1===p.value?(u(),r("div",{key:1,class:h(w(q).region)},[l[7]||(T(-1),(l[7]=m("label",{id:"contrast-method"},[l[23]||(l[23]=A("Method"))])).cacheIndex=7,T(1),l[7]),M(F,{label:"#contrast-method",items:w(U),index:_.method,"onUpdate:index":l[8]||(l[8]=e=>{return a=e,_.method=a,s.l("reset"),void E();var a})},null,8,["items","index"]),2!==_.method?(u(),r(R,{key:0},[l[24]||(l[24]=m("label",{id:"contrast-coeff-name"},"Coeff.",-1)),M(S,{label:"#contrast-coeff-name",max:z.value,step:"0.001","model-value":_[_.method],"onUpdate:modelValue":l[9]||(l[9]=e=>{_[_.method]=e,E()})},null,8,["max","model-value"])],64)):b("",!0)],2)):b("",!0)])),p:2},[1===p.value?{name:"actions",fn:I((()=>[M(P,{text:"重置",onClick:l[10]||(l[10]=e=>G("reset"))}),M(P,{class:h(w(q).applyBtn),text:"套用",onKeydown:v,onClick:l[11]||(l[11]=e=>G("start"))},null,8,["class"])])),key:"0"}:void 0]),1032,["overlayProps","modelValue","tab-idx"]))}});export{Q as default};
