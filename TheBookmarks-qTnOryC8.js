import{d as e,c as a,r as l,h as t,t as o,u as s,w as n,o as r,a as c,b as p,n as u,e as i,f as d,_,g as v,i as h,j as x,k as f,l as k,m as C,p as m,q as y,s as g,v as b,x as B,y as P,z as $,A,F as E,B as W,C as D,D as V,E as F,G as j}from"./index-B4O0TUV7.js";const w={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",colorBlock:"_colorBlock_1x6ah_1",container:"_container_1x6ah_15",header:"_header_1x6ah_30",menuBar:"_menuBar_1x6ah_51",selected:"_selected_1x6ah_62",pageContent:"_pageContent_1x6ah_67",delWrapper:"_delWrapper_1x6ah_77",paletteBlock:"_paletteBlock_1x6ah_99",caretWrapper:"_caretWrapper_1x6ah_148",appendPlt:"_appendPlt_1x6ah_171"},H={type:"button","aria-label":"刪除書籤"},M=e({__name:"ColorBlock",props:{hex:{}},setup(e){const f=e,k=a((()=>l(t(f.hex))>127.5)),C=a((()=>({filter:o(k)?"invert(1)":void 0}))),m=s(),y=()=>{m.favColorsChanged(f.hex)};return(e,a)=>n([e.hex],(()=>(r(),c("li",{class:x(i(w).colorBlock),style:u({backgroundColor:f.hex})},[p(_,{class:"ripple",style:u(C.value),"prepend-icon":"copy",text:f.hex,"aria-label":`複製HEX碼${f.hex}`,variant:"flat",onClick:a[0]||(a[0]=e=>i(d)(f.hex))},null,8,["style","text","aria-label"]),v("span",{class:x(i(w).delWrapper)},[v("button",H,[p(h,{type:"delete",onClick:y})])],2)],6))),a,1)}}),X=e({__name:"PaletteBlock",props:{plt:{}},setup(e){const l=e,t=l.plt.split("-").map((e=>`#${e}`)),n=a((()=>Math.round(1e4/t.length)/100)),d=a((()=>`linear-gradient(90deg, ${t.reduce(((e,a,l)=>e+=`${a} ${l*o(n)}%,${a} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),_=f(),y=s(),g=()=>{for(const e of t)if(!m(e))return;_.setPlt(t)},b=()=>y.favPltsChanged(l.plt);return(e,a)=>(r(),c("li",{class:x(i(w).paletteBlock)},[v("div",{style:u({background:d.value})},[v("div",{class:x(i(w).caretWrapper)},[v("button",{type:"button","aria-label":"開啟書籤",onClick:g},[p(h,{type:"caretLeft"})])],2),v("span",{class:x(i(w).delWrapper)},[v("button",{type:"button","aria-label":"刪除書籤",onClick:b},[p(h,{type:"delete"})])],2)],4),v("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:a[0]||(a[0]=(...e)=>i(C)&&i(C)(...e))},k(e.plt),1)],2))}}),q=e({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:y(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,n=g(e,"modelValue"),u=["Colors","Palettes"],d=b(0),h=b([]);function C(e){var a;j(e)&&(e.preventDefault(),o(d)!==u.length-1?null==(a=o(h)[++d.value])||a.$el.focus():(n.value=0,t("focusoutDialog")))}B(n,(async e=>{var a;await P(),e?null==(a=o(h)[o(d)])||a.$el.focus():m.setEditingIdx()}));const m=f(),y=s(),H=a((()=>m.cards.map((e=>e.hex.slice(1))).join("-"))),q=a((()=>y.plts.includes(o(H))?{icon:"unfavPallete",text:"Remove Pallete"}:{icon:"favPallete",text:"Append Pallete"}));function z(){y.favPltsChanged(o(H)),d.value=1}return(e,a)=>(r(),$(F,{"content-class":i(w).container,role:"dialog",type:"offcanvas",eager:1,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e)},{default:A((()=>[v("header",{class:x(i(w).header)},[a[2]||(a[2]=v("h2",null,"Bookmarks",-1)),p(_,{icon:"close","aria-label":"關閉",onClick:a[0]||(a[0]=e=>n.value=0)})],2),v("div",{class:x(i(w).menuBar)},[(r(),c(E,null,W(u,((e,a)=>p(_,{key:`page ${e}`,ref_for:1,ref:e=>h.value[a]=e,text:e,class:x(a===d.value?i(w).selected:void 0),onClick:e=>d.value=a},null,8,["text","class","onClick"]))),64))],2),v("ul",{class:x(i(w).pageContent)},[0===d.value?(r(1),c(E,{key:0},W(i(y).colors,(e=>(r(),$(M,{key:`favColor ${e}`,hex:e},null,8,["hex"])))),128)):1===d.value?(r(1),c(E,{key:1},W(i(y).plts,(e=>(r(),$(X,{key:`favPlt ${e}`,plt:e},null,8,["plt"])))),128)):D("",1)],2),p(_,{"prepend-icon":q.value.icon,class:x(i(w).appendPlt),onKeydown:C,onClick:z},{default:A((()=>[V(k(q.value.text),1)])),_:1},8,["prepend-icon","class"])])),_:1},8,["content-class","modelValue"]))}});export{q as default};
