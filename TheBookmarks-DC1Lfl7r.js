import{d as a,c as e,V as l,B as t,G as o,W as s,P as n,j as r,k as c,N as p,n as i,m as u,X as d,_,l as f,Y as k,M as x,E as y,z as h,Z as m,i as C,$ as b,f as v,r as g,w as B,a0 as $,K as P,L as A,F as V,x as E,S as W,p as D,T as F,a1 as w}from"./index-C7X2tZuC.js";const M={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",colorBlock:"_colorBlock_1x6ah_1",container:"_container_1x6ah_15",header:"_header_1x6ah_30",menuBar:"_menuBar_1x6ah_51",selected:"_selected_1x6ah_62",pageContent:"_pageContent_1x6ah_67",delWrapper:"_delWrapper_1x6ah_77",paletteBlock:"_paletteBlock_1x6ah_99",caretWrapper:"_caretWrapper_1x6ah_148",appendPlt:"_appendPlt_1x6ah_171"},X={type:"button","aria-label":"刪除書籤"},j=a({__name:"ColorBlock",props:{hex:{}},setup(a){const y=a,h=e((()=>l(t(y.hex))>127.5)),m=e((()=>({filter:o(h)?"invert(1)":void 0}))),C=s(),b=()=>{C.favColorsChanged(y.hex)};return(a,e)=>n([a.hex],(()=>(r(),c("li",{class:x(u(M).colorBlock),style:i({backgroundColor:y.hex})},[p(_,{class:"ripple",style:i(m.value),"prepend-icon":"copy",text:y.hex,"aria-label":`複製HEX碼${y.hex}`,variant:"flat",onClick:e[0]||(e[0]=a=>u(d)(y.hex))},null,8,["style","text","aria-label"]),f("span",{class:x(u(M).delWrapper)},[f("button",X,[p(k,{type:"delete",onClick:b})])],2)],6))),e,1)}}),H=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const l=a,t=l.plt.split("-").map((a=>`#${a}`)),n=e((()=>Math.round(1e4/t.length)/100)),d=e((()=>`linear-gradient(90deg, ${t.reduce(((a,e,l)=>a+=`${e} ${l*o(n)}%,${e} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),_=y(),b=s(),v=()=>{for(const a of t)if(!C(a))return;_.setPlt(t)},g=()=>b.favPltsChanged(l.plt);return(a,e)=>(r(),c("li",{class:x(u(M).paletteBlock)},[f("div",{style:i({background:d.value})},[f("div",{class:x(u(M).caretWrapper)},[f("button",{type:"button","aria-label":"開啟書籤",onClick:v},[p(k,{type:"caretLeft"})])],2),f("span",{class:x(u(M).delWrapper)},[f("button",{type:"button","aria-label":"刪除書籤",onClick:g},[p(k,{type:"delete"})])],2)],4),f("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:e[0]||(e[0]=(...a)=>u(m)&&u(m)(...a))},h(a.plt),1)],2))}}),K=a({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:b(["focusoutDialog"],["update:modelValue"]),setup(a,{emit:l}){const t=l,n=v(a,"modelValue"),i=["Colors","Palettes"],d=g(0),k=g([]);function m(a){var e;w(a)&&(a.preventDefault(),o(d)!==i.length-1?null==(e=o(k)[++d.value])||e.$el.focus():(n.value=!1,t("focusoutDialog")))}B(n,(async a=>{var e;await $(),a?null==(e=o(k)[o(d)])||e.$el.focus():C.setEditingIdx()}));const C=y(),b=s(),X=e((()=>C.cards.map((a=>a.hex.slice(1))).join("-"))),K=e((()=>b.plts.includes(o(X))?{icon:"unfavPallete",text:"Remove Pallete"}:{icon:"favPallete",text:"Append Pallete"}));function L(){b.favPltsChanged(o(X)),d.value=1}return(a,e)=>(r(),P(F,{"content-class":u(M).container,role:"dialog",type:"offcanvas",eager:!0,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a)},{default:A((()=>[f("header",{class:x(u(M).header)},[e[2]||(e[2]=f("h2",null,"書籤",-1)),p(_,{icon:"close","aria-label":"關閉",onClick:e[0]||(e[0]=a=>n.value=!1)})],2),f("div",{class:x(u(M).menuBar)},[(r(),c(V,null,E(i,((a,e)=>p(_,{key:`page ${a}`,ref_for:!0,ref:a=>k.value[e]=a,text:a,class:x(e===d.value?u(M).selected:void 0),onClick:a=>d.value=e},null,8,["text","class","onClick"]))),64))],2),f("ul",{class:x(u(M).pageContent)},[0===d.value?(r(!0),c(V,{key:0},E(u(b).colors,(a=>(r(),P(j,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===d.value?(r(!0),c(V,{key:1},E(u(b).plts,(a=>(r(),P(H,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):W("",!0)],2),p(_,{"prepend-icon":K.value.icon,class:x(u(M).appendPlt),onKeydown:m,onClick:L},{default:A((()=>[D(h(K.value.text),1)])),l:1},8,["prepend-icon","class"])])),l:1},8,["content-class","modelValue"]))}});export{K as default};
