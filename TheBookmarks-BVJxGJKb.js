import{d as a,c as e,Z as l,$ as t,t as o,a5 as s,X as n,l as r,x as c,J as i,q as p,W as u,z as d,b as _,a3 as k,Y as y,s as m,a6 as x,V as f,O as C,M as b,a7 as v,Q as g,I as h,i as z,a8 as $,u as B,r as P,w as V,a9 as O,n as W,F as H,E as w,y as E,A as X,L as A,aa as D}from"./index-DM-sCobm.js";const M={container:"_container_z8mxy_1",header:"_header_z8mxy_16",menuBar:"_menuBar_z8mxy_37",selected:"_selected_z8mxy_48",pageContent:"_pageContent_z8mxy_53",delWrapper:"_delWrapper_z8mxy_62",paletteBlock:"_paletteBlock_z8mxy_84",colorBlock:"_colorBlock_z8mxy_84",caretWrapper:"_caretWrapper_z8mxy_136",appendPlt:"_appendPlt_z8mxy_159"},j=a({__name:"ColorBlock",props:{hex:{}},setup(a){const C=a,b=e((()=>l(t(C.hex))>127.5)),v=e((()=>({filter:o(b)?"invert(1)":void 0}))),g=s(),h=()=>{g.l(C.hex)};return(a,e)=>n([a.hex],(()=>(r(),c("li",{class:f(_(M).colorBlock),style:d({backgroundColor:C.hex})},[i(y,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:p((({handleClick:a})=>[i(u,{class:"ripple",style:d(v.value),"prepend-icon":"copy",text:C.hex,"aria-label":`複製HEX碼${C.hex}`,variant:"flat",onClick:e=>{_(k)(C.hex),a(e)}},null,8,["style","text","aria-label","onClick"])])),t:1}),m("span",{class:f(_(M).delWrapper)},[m("button",{type:"button","aria-label":"刪除書籤",onClick:h},[i(x,{type:"trash3-fill"})])],2)],6))),e,0)}}),q=["onClick"],F=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const l=a,t=C(l.plt.split("-"),(a=>`#${a}`)),n=e((()=>b(1/t.length,2))),u=e((()=>`linear-gradient(90deg, ${v(t,((a,e,l)=>a+=`${e} ${l*o(n)}%,${e} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),$=g(),B=s(),P=()=>{for(const a of t)if(!z(a))return;$.o(t)},V=()=>B.i(l.plt);return(a,e)=>(r(),c("li",{class:f(_(M).paletteBlock)},[m("div",{style:d({background:u.value})},[m("div",{class:f(_(M).caretWrapper)},[m("button",{type:"button","aria-label":"開啟書籤",onClick:P},[i(x,{type:"caret-left-fill"})])],2),m("span",{class:f(_(M).delWrapper)},[m("button",{type:"button","aria-label":"刪除書籤",onClick:V},[i(x,{type:"trash3-fill"})])],2)],4),i(y,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:p((({handleClick:e})=>[m("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:l=>{_(k)(a.plt),e(l)}},h(a.plt),9,q)])),t:1})],2))}}),I=a({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:$(["focusoutDialog"],["update:modelValue"]),setup(a,{emit:l}){const t=l,n=B(a,"modelValue"),d=["Colors","Palettes"],k=P(0),y=P([]);function x(a){var e;D(a)&&(a.preventDefault(),o(k)!==d.length-1?null==(e=o(y)[++k.value])||e.$el.focus():(n.value=!1,t("focusoutDialog")))}V(n,(async a=>{var e;await O(),a?null==(e=o(y)[o(k)])||e.$el.focus():b.p()}));const b=g(),v=s(),z=e((()=>C(b.u,(({_:a})=>a.slice(1))).join("-"))),$=e((()=>v.k.includes(o(z))?{icon:"bookmark-dash",text:"Remove Pallete"}:{icon:"bookmark-plus",text:"Append Pallete"}));function q(){v.i(o(z)),k.value=1}return(a,e)=>(r(),W(A,{"content-class":_(M).container,role:"dialog",type:"offcanvas",eager:!0,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a)},{default:p((()=>[m("header",{class:f(_(M).header)},[e[2]||(e[2]=m("h2",null,"書籤",-1)),i(u,{icon:"x-lg","aria-label":"關閉",onClick:e[0]||(e[0]=a=>n.value=!1)})],2),m("div",{class:f(_(M).menuBar)},[(r(),c(H,null,w(d,((a,e)=>i(u,{key:`page ${a}`,ref_for:!0,ref:a=>y.value[e]=a,text:a,class:f(e===k.value?_(M).selected:void 0),onClick:a=>k.value=e},null,8,["text","class","onClick"]))),64))],2),m("ul",{class:f(_(M).pageContent)},[0===k.value?(r(!0),c(H,{key:0},w(_(v).m,(a=>(r(),W(j,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===k.value?(r(!0),c(H,{key:1},w(_(v).k,(a=>(r(),W(F,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):E("",!0)],2),i(u,{"prepend-icon":$.value.icon,class:f(_(M).appendPlt),onKeydown:x,onClick:q},{default:p((()=>[X(h($.value.text),1)])),t:1},8,["prepend-icon","class"])])),t:1},8,["content-class","modelValue"]))}});export{I as default};
