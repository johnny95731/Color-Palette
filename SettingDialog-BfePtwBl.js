import{d as e,m as l,r as a,c as o,a8 as s,o as t,N as n,w as d,j as i,n as r,q as c,E as u,a9 as m,s as p,aa as b,I as v,ab as _,D as f,v as h,$ as x,M as y,ac as k,a6 as C,ad as w,a as V,ae as g,af as j,ag as B,y as U,S as D,t as A,l as F,T as E,U as M,F as S,z as K,x as R,_ as T,V as I,ah as $,B as q,Z as z,a7 as L}from"./index-sXGUyKEX.js";const N={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",settingDialog:"_settingDialog_1jetx_9",header:"_header_1jetx_17",menubar:"_menubar_1jetx_38",tab:"_tab_1jetx_44",content:"_content_1jetx_52",region:"_region_1jetx_58",buttons:"_buttons_1jetx_100",applyBtn:"_applyBtn_1jetx_113",resetBtn:"_resetBtn_1jetx_118"},P={class:"switch"},W=["id","value","checked"],Z=["aria-checked","value"],G=["for"],H=e({__name:"TheSwitch",props:l({inputId:{},label:{},hideLabel:{type:Boolean},value:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const l=e,y=a(),k=a(),C=o((()=>l.inputId??s("slider"))),w=o((()=>{var e;return l.label?(null==(e=l.label)?void 0:e.startsWith("#"))?{"aria-labelledby":l.label.slice(1)}:{"aria-label":l.label}:{}}));t((()=>{var e;if(!(null==(e=l.label)?void 0:e.startsWith("#")))return;const a=document.getElementById(l.label.slice(1));a&&(a.htmlFor=n(C))})),d((()=>[l.label,n(C)]),((e,l)=>{var a;const o=e[0]===l[0],s=e[1]===l[1];if(o||[l[0],e[0]].forEach(((l,a)=>{if(l&&l.startsWith("#")){const o=document.getElementById(l.slice(1));o&&(0===a?o.removeAttribute("for"):o.htmlFor=e[1])}})),!s&&(null==(a=e[0])?void 0:a.startsWith("#"))){const l=document.getElementById(e[0].slice(1));l&&(l.htmlFor=e[1])}}));const V=i(e,"modelValue");function g(){x(V)}function j(e){" "===e.key.toLowerCase()&&x(V)}return(e,l)=>(r(),c("div",P,[u(p("input",b({class:"field",ref_key:"inputRef",ref:y},w.value,{id:C.value,type:"checkbox",value:e.value,checked:V.value,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value=e),onFocus:l[1]||(l[1]=e=>{var l;null==(l=k.value)||l.focus()})}),null,16,W),[[m,V.value]]),p("div",b({ref_key:"switchRef",ref:k},w.value,{class:"switch__slider",tabindex:"0",role:"switch","aria-checked":V.value,value:e.value,onClick:g,onKeydown:j}),null,16,Z),w.value["aria-label"]?(r(),c("label",{key:0,class:v([e.hideLabel&&"field"]),for:C.value,onClick:l[2]||(l[2]=_((e=>{var l;g(),null==(l=k.value)||l.focus()}),["prevent"]))},f(w.value["aria-label"]),11,G)):h("",!0)]))}}),J=["white","gray","black"],O=e({__name:"SettingDialog",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:l(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const s=l,t=i(e,"modelValue"),u=y(),m=k(),b=["Card","Contrast"],_=a(0),f=a([]);function x(e){L(e)&&(e.preventDefault(),t.value=!1,s("focusoutDialog"))}d(t,(async e=>{var l;await C(),e&&1===_.value?(u.setIsAdjustingPlt("start"),Y()):!e&&u.isAdjustingPlt&&u.setIsAdjustingPlt("cancel"),null==(l=n(f)[n(_)])||l.$el.focus()}));const P={...w,color:N.color5,backgroundColor:N.color1},W=o((()=>b.map(((e,l)=>l===_.value?P:void 0)))),Z=e=>{1===e?(u.setIsAdjustingPlt("start"),Y()):1===_.value&&u.setIsAdjustingPlt("cancel"),_.value=e},G=V({pos:m.transition.pos,color:m.transition.color}),O=(e,l)=>{"pos"===l?G.pos=e:G.color=e,m.setTransition(l,e)},Q=V(g.reduce(((e,l,a)=>(e[a]=1)&&e),{method:0})),X=o((()=>Q.method?j:B));function Y(){u.adjustContrast(Q.method,Q[Q.method])}const ee=e=>{u.setIsAdjustingPlt(e),Q[Q.method]=1,Y()};return(e,l)=>(r(),U(z,{"content-class":F(N).settingDialog,role:"dialog",eager:!0,transition:"slide-y",transparent:"",modelValue:t.value,"onUpdate:modelValue":l[11]||(l[11]=e=>t.value=e)},{default:D((()=>[l[0]||(A(-1),(l[0]=p("header",{class:v(F(N).header)},[l[12]||(l[12]=p("h2",null,"設定",-1)),E(M,{icon:"close","aria-label":"close",onClick:e=>t.value=!1},null,8,["onClick"])],2)).cacheIndex=0,A(1),l[0]),p("div",{class:v(F(N).menubar)},[(r(),c(S,null,K(b,((e,l)=>E(M,{key:`setting-${e}`,ref_for:!0,ref:e=>f.value[l]=e,class:v(F(N).tab),style:R(W.value[l]),text:e,onClick:e=>Z(l)},null,8,["class","style","text","onClick"]))),64))],2),p("div",{class:v(F(N).content)},[0===_.value?(r(),c(S,{key:0},[p("div",{class:v(F(N).region),"aria-labelledby":"title-Border"},[l[14]||(l[14]=p("h3",{id:"title-Border"}," Border ",-1)),l[15]||(l[15]=p("span",null,"Show",-1)),E(H,{label:"show border","hide-label":"","model-value":F(m).border.show,"onUpdate:modelValue":l[1]||(l[1]=e=>F(m).setBorder("show",e))},null,8,["model-value"]),F(m).border.show?(r(),c(S,{key:0},[l[13]||(l[13]=p("label",{id:"border-width"},"Width(px)",-1)),E(T,{label:"#border-width",max:F(10),"model-value":F(m).border.width,"onUpdate:modelValue":l[2]||(l[2]=e=>F(m).setBorder("width",e))},null,8,["max","model-value"]),p("label",{id:"border-color",class:v(F(N).subOption)},"Color",2),E(I,{class:v(F(N).subOption),label:"#border-color",options:F(J),"model-value":F(m).border.color,"onUpdate:modelValue":l[3]||(l[3]=e=>F(m).setBorder("color",e))},null,8,["class","options","model-value"])],64)):h("",!0)],2),p("div",{class:v(F(N).region)},[l[16]||(l[16]=p("h3",null,"Transition",-1)),l[17]||(l[17]=p("label",{id:"transition-position"},"Position1(ms)",-1)),E(T,{label:"#transition-position",max:F(1e3),step:"50","model-value":F(m).transition.pos,"onUpdate:modelValue":l[4]||(l[4]=e=>O(e,"pos"))},null,8,["max","model-value"]),l[18]||(l[18]=p("label",{id:"transition-color"},"Color(ms)",-1)),E(T,{label:"#transition-color",max:F(3e3),step:"50","model-value":G.color,"onUpdate:modelValue":l[5]||(l[5]=e=>O(e,"color")),onKeydown:l[6]||(l[6]=$((e=>Z(1)),["tab"]))},null,8,["max","model-value"])],2)],64)):1===_.value?(r(),c("div",{key:1,class:v(F(N).region)},[l[7]||(A(-1),(l[7]=p("label",{id:"contrast-method"},[l[19]||(l[19]=q("Method"))])).cacheIndex=7,A(1),l[7]),E(I,{label:"#contrast-method",options:F(g),index:Q.method,"onUpdate:index":l[8]||(l[8]=e=>{return l=e,Q.method=l,u.setIsAdjustingPlt("reset"),void Y();var l})},null,8,["options","index"]),2!==Q.method?(r(),c(S,{key:0},[l[20]||(l[20]=p("label",{id:"contrast-coeff-name"},"Coeff.",-1)),E(T,{label:"#contrast-coeff-name",max:X.value,step:"0.001","model-value":Q[Q.method],"onUpdate:modelValue":l[9]||(l[9]=e=>{Q[Q.method]=e,Y()})},null,8,["max","model-value"])],64)):h("",!0),l[10]||(A(-1),(l[10]=p("div",{class:v(F(N).buttons)},[E(M,{text:"Reset",class:v(F(N).resetBtn),onClick:e=>ee("reset")},null,8,["class","onClick"]),E(M,{text:"Apply",class:v(F(N).applyBtn),onKeydown:x,onClick:e=>ee("start")},null,8,["class","onClick"])],2)).cacheIndex=10,A(1),l[10])],2)):h("",!0)],2)])),l:1},8,["content-class","modelValue"]))}});export{O as default};
