import{d as e,c as a,X as l,Y as t,a3 as s,a4 as o,W as n,l as r,x as c,J as i,z as p,b as u,a1 as d,V as _,s as k,a5 as f,U as y,P as b,I as m,a6 as C,i as x,a7 as v,u as g,r as h,w as j,a8 as B,n as $,q as P,F as V,E as W,y as w,A as E,L as X,a9 as A}from"./index-CVo0TAsf.js";const D={container:"_container_8eeje_1",header:"_header_8eeje_16",menuBar:"_menuBar_8eeje_37",selected:"_selected_8eeje_48",pageContent:"_pageContent_8eeje_53",delWrapper:"_delWrapper_8eeje_63",paletteBlock:"_paletteBlock_8eeje_85",colorBlock:"_colorBlock_8eeje_85",caretWrapper:"_caretWrapper_8eeje_137",appendPlt:"_appendPlt_8eeje_160"},H=e({__name:"ColorBlock",props:{hex:{}},setup(e){const b=e,m=a((()=>l(t(b.hex))>127.5)),C=a((()=>({filter:s(m)?"invert(1)":void 0}))),x=o(),v=()=>{x.favColorsChanged(b.hex)};return(e,a)=>n([e.hex],(()=>(r(),c("li",{class:y(u(D).colorBlock),style:p({backgroundColor:b.hex})},[i(_,{class:"ripple",style:p(C.value),"prepend-icon":"copy",text:b.hex,"aria-label":`複製HEX碼${b.hex}`,variant:"flat",onClick:a[0]||(a[0]=e=>u(d)(b.hex))},null,8,["style","text","aria-label"]),k("span",{class:y(u(D).delWrapper)},[k("button",{type:"button","aria-label":"刪除書籤",onClick:v},[i(f,{type:"trash3-fill"})])],2)],6))),a,1)}}),M=e({__name:"PaletteBlock",props:{plt:{}},setup(e){const l=e,t=l.plt.split("-").map((e=>`#${e}`)),n=a((()=>Math.round(1e4/t.length)/100)),d=a((()=>`linear-gradient(90deg, ${t.reduce(((e,a,l)=>e+=`${a} ${l*s(n)}%,${a} ${(l+1)*s(n)}%,`),"").slice(0,-1)})`)),_=b(),v=o(),g=()=>{for(const e of t)if(!x(e))return;_.setPlt(t)},h=()=>v.favPltsChanged(l.plt);return(e,a)=>(r(),c("li",{class:y(u(D).paletteBlock)},[k("div",{style:p({background:d.value})},[k("div",{class:y(u(D).caretWrapper)},[k("button",{type:"button","aria-label":"開啟書籤",onClick:g},[i(f,{type:"caret-left-fill"})])],2),k("span",{class:y(u(D).delWrapper)},[k("button",{type:"button","aria-label":"刪除書籤",onClick:h},[i(f,{type:"trash3-fill"})])],2)],4),k("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:a[0]||(a[0]=(...e)=>u(C)&&u(C)(...e))},m(e.plt),1)],2))}}),U=e({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:v(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,n=g(e,"modelValue"),p=["Colors","Palettes"],d=h(0),f=h([]);function C(e){var a;A(e)&&(e.preventDefault(),s(d)!==p.length-1?null==(a=s(f)[++d.value])||a.$el.focus():(n.value=!1,t("focusoutDialog")))}j(n,(async e=>{var a;await B(),e?null==(a=s(f)[s(d)])||a.$el.focus():x.setEditingIdx()}));const x=b(),v=o(),U=a((()=>x.cards.map((e=>e.hex.slice(1))).join("-"))),q=a((()=>v.plts.includes(s(U))?{icon:"bookmark-dash",text:"Remove Pallete"}:{icon:"bookmark-plus",text:"Append Pallete"}));function z(){v.favPltsChanged(s(U)),d.value=1}return(e,a)=>(r(),$(X,{"content-class":u(D).container,role:"dialog",type:"offcanvas",eager:!0,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e)},{default:P((()=>[k("header",{class:y(u(D).header)},[a[2]||(a[2]=k("h2",null,"書籤",-1)),i(_,{icon:"x-lg","aria-label":"關閉",onClick:a[0]||(a[0]=e=>n.value=!1)})],2),k("div",{class:y(u(D).menuBar)},[(r(),c(V,null,W(p,((e,a)=>i(_,{key:`page ${e}`,ref_for:!0,ref:e=>f.value[a]=e,text:e,class:y(a===d.value?u(D).selected:void 0),onClick:e=>d.value=a},null,8,["text","class","onClick"]))),64))],2),k("ul",{class:y(u(D).pageContent)},[0===d.value?(r(!0),c(V,{key:0},W(u(v).colors,(e=>(r(),$(H,{key:`favColor ${e}`,hex:e},null,8,["hex"])))),128)):1===d.value?(r(!0),c(V,{key:1},W(u(v).plts,(e=>(r(),$(M,{key:`favPlt ${e}`,plt:e},null,8,["plt"])))),128)):w("",!0)],2),i(_,{"prepend-icon":q.value.icon,class:y(u(D).appendPlt),onKeydown:C,onClick:z},{default:P((()=>[E(m(q.value.text),1)])),l:1},8,["prepend-icon","class"])])),l:1},8,["content-class","modelValue"]))}});export{U as default};
