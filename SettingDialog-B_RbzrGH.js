import{d as e,m as l,r as a,c as o,a1 as t,o as s,E as n,w as r,k as i,n as d,p as u,y as c,a2 as m,q as v,a3 as h,M as b,a4 as p,B as y,S as f,U as _,D as g,a5 as k,$ as x,a6 as w,a as C,a7 as B,a8 as A,a9 as V,J as I,K as D,L as U,s as j,N as E,_ as F,F as P,A as W,v as K,aa as L,O as M,ab as S,x as T,T as O,a0 as R}from"./index-Ys1pjnKB.js";const $={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",settingDialog:"_settingDialog_hy4co_9",header:"_header_hy4co_17",menubar:"_menubar_hy4co_38",tab:"_tab_hy4co_44",content:"_content_hy4co_52",region:"_region_hy4co_58",buttons:"_buttons_hy4co_102",applyBtn:"_applyBtn_hy4co_115",resetBtn:"_resetBtn_hy4co_120"},q={class:"switch-wrapper"},J=["id","value","checked"],N=["aria-checked","value"],z=["for"],G=e({__name:"TheSwitch",props:l({inputId:{},label:{},hideLabel:{type:Boolean},value:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const l=e,g=a(),k=a(),x=o((()=>l.inputId??t("slider"))),w=o((()=>{var e;return l.label?(null==(e=l.label)?void 0:e.startsWith("#"))?{"aria-labelledby":l.label.slice(1)}:{"aria-label":l.label}:{}}));s((()=>{var e;if(!(null==(e=l.label)?void 0:e.startsWith("#")))return;const a=document.getElementById(l.label.slice(1));a&&(a.htmlFor=n(x))})),r((()=>[l.label,n(x)]),((e,l)=>{var a;const o=e[0]===l[0],t=e[1]===l[1];if(o||[l[0],e[0]].forEach(((l,a)=>{if(l&&l.startsWith("#")){const o=document.getElementById(l.slice(1));o&&(0===a?o.removeAttribute("for"):o.htmlFor=e[1])}})),!t&&(null==(a=e[0])?void 0:a.startsWith("#"))){const l=document.getElementById(e[0].slice(1));l&&(l.htmlFor=e[1])}}));const C=i(e,"modelValue");function B(){_(C)}function A(e){" "===e.key.toLowerCase()&&_(C)}return(e,l)=>(d(),u("div",q,[c(v("input",h({ref_key:"inputRef",ref:g},w.value,{id:x.value,type:"checkbox",value:e.value,checked:C.value,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value=e),onFocus:l[1]||(l[1]=e=>{var l;null==(l=k.value)||l.focus()})}),null,16,J),[[m,C.value]]),v("div",h({ref_key:"switchRef",ref:k},w.value,{class:"switch-slider",tabindex:"0",role:"switch","aria-checked":C.value,value:e.value,onClick:B,onKeydown:A}),null,16,N),w.value["aria-label"]?(d(),u("label",{key:0,class:b({"hide-label":e.hideLabel}),for:x.value,onClick:l[2]||(l[2]=p((e=>{var l;B(),null==(l=k.value)||l.focus()}),["prevent"]))},y(w.value["aria-label"]),11,z)):f("",1)]))}}),H=["white","gray","black"],Q=e({__name:"SettingDialog",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:l(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,s=i(e,"modelValue"),c=g(),m=k(),h=["Card","Contrast"],p=a(0),y=a([]);function _(e){R(e)&&(e.preventDefault(),s.value=0,t("focusoutDialog"))}r(s,(async e=>{var l;await x(),e&&1===p.value?(c.setIsAdjustingPlt("start"),Z()):!e&&c.isAdjustingPlt&&c.setIsAdjustingPlt("cancel"),null==(l=n(y)[n(p)])||l.$el.focus()}));const q={...w,color:$.color5,backgroundColor:$.color1},J=o((()=>h.map(((e,l)=>l===p.value?q:void 0)))),N=e=>{1===e?(c.setIsAdjustingPlt("start"),Z()):1===p.value&&c.setIsAdjustingPlt("cancel"),p.value=e},z=C({pos:m.transition.pos,color:m.transition.color}),Q=(e,l)=>{"pos"===l?z.pos=e:z.color=e,m.setTransition(l,e)},X=C(B.reduce(((e,l,a)=>(e[a]=1)&&e),{method:0})),Y=o((()=>X.method?A:V));function Z(){c.adjustContrast(X.method,X[X.method])}const ee=e=>{c.setIsAdjustingPlt(e),X[X.method]=1,Z()};return(e,l)=>(d(),I(O,{"content-class":j($).settingDialog,role:"dialog",eager:1,transition:"slide-y",transparent:"",modelValue:s.value,"onUpdate:modelValue":l[11]||(l[11]=e=>s.value=e)},{default:D((()=>[l[0]||(U(-1),(l[0]=v("header",{class:b(j($).header)},[l[12]||(l[12]=v("h2",null,"設定",-1)),E(F,{icon:"close","aria-label":"close",onClick:e=>s.value=0},null,8,["onClick"])],2)).cacheIndex=0,U(1),l[0]),v("div",{class:b(j($).menubar)},[(d(),u(P,null,W(h,((e,l)=>E(F,{key:`setting-${e}`,ref_for:1,ref:e=>y.value[l]=e,class:b(j($).tab),style:K(J.value[l]),text:e,onClick:e=>N(l)},null,8,["class","style","text","onClick"]))),64))],2),v("div",{class:b(j($).content)},[0===p.value?(d(),u(P,{key:0},[v("div",{class:b(j($).region),"aria-labelledby":"title-Border"},[l[14]||(l[14]=v("h3",{id:"title-Border"}," Border ",-1)),l[15]||(l[15]=v("span",null,"Show",-1)),E(G,{label:"show border","hide-label":"","model-value":j(m).border.show,"onUpdate:modelValue":l[1]||(l[1]=e=>j(m).setBorder("show",e))},null,8,["model-value"]),j(m).border.show?(d(),u(P,{key:0},[l[13]||(l[13]=v("label",{id:"border-width"},"Width(px)",-1)),E(L,{label:"#border-width",max:j(10),"model-value":j(m).border.width,"onUpdate:modelValue":l[2]||(l[2]=e=>j(m).setBorder("width",e))},null,8,["max","model-value"]),v("label",{id:"border-color",class:b(j($).subOption)},"Color",2),E(M,{class:b(j($).subOption),label:"#border-color",options:j(H),"model-value":j(m).border.color,"onUpdate:modelValue":l[3]||(l[3]=e=>j(m).setBorder("color",e))},null,8,["class","options","model-value"])],64)):f("",1)],2),v("div",{class:b(j($).region)},[l[16]||(l[16]=v("h3",null,"Transition",-1)),l[17]||(l[17]=v("label",{id:"transition-position"},"Position1(ms)",-1)),E(L,{label:"#transition-position",max:j(1e3),step:50,"model-value":j(m).transition.pos,"onUpdate:modelValue":l[4]||(l[4]=e=>Q(e,"pos"))},null,8,["max","model-value"]),l[18]||(l[18]=v("label",{id:"transition-color"},"Color(ms)",-1)),E(L,{label:"#transition-color",max:j(3e3),step:50,"model-value":z.color,"onUpdate:modelValue":l[5]||(l[5]=e=>Q(e,"color")),onKeydown:l[6]||(l[6]=S((e=>N(1)),["tab"]))},null,8,["max","model-value"])],2)],64)):1===p.value?(d(),u("div",{key:1,class:b(j($).region)},[l[7]||(U(-1),(l[7]=v("label",{id:"contrast-method"},[l[19]||(l[19]=T("Method"))])).cacheIndex=7,U(1),l[7]),E(M,{label:"#contrast-method",options:j(B),index:X.method,"onUpdate:index":l[8]||(l[8]=e=>{return l=e,X.method=l,c.setIsAdjustingPlt("reset"),void Z();var l})},null,8,["options","index"]),2!==X.method?(d(),u(P,{key:0},[l[20]||(l[20]=v("label",{id:"contrast-coeff-name"},"Coeff.",-1)),E(L,{label:"#contrast-coeff-name",max:Y.value,step:.001,"model-value":X[X.method],"onUpdate:modelValue":l[9]||(l[9]=e=>{X[X.method]=e,Z()})},null,8,["max","model-value"])],64)):f("",1),l[10]||(U(-1),(l[10]=v("div",{class:b(j($).buttons)},[E(F,{text:"Reset",class:b(j($).resetBtn),onClick:e=>ee("reset")},null,8,["class","onClick"]),E(F,{text:"Apply",class:b(j($).applyBtn),onKeydown:_,onClick:e=>ee("start")},null,8,["class","onClick"])],2)).cacheIndex=10,U(1),l[10])],2)):f("",1)],2)])),_:1},8,["content-class","modelValue"]))}});export{Q as default};
