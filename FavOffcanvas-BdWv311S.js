import{d as e,c as a,r as l,h as t,t as s,u as o,w as n,o as r,a as c,b as u,n as p,e as i,f as d,_ as v,g as f,i as _,j as k,k as C,l as h,m,p as x,q as y,s as b,v as g,x as B,y as P,z as $,A,F as W,B as D,C as E,D as V,E as F,G as O}from"./index-O0AEVesw.js";const j={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",colorBlock:"_colorBlock_1ei1u_1",favOffcanvas:"_favOffcanvas_1ei1u_15",header:"_header_1ei1u_34",menuBar:"_menuBar_1ei1u_55",selected:"_selected_1ei1u_66",pageContent:"_pageContent_1ei1u_71",delWrapper:"_delWrapper_1ei1u_81",paletteBlock:"_paletteBlock_1ei1u_103",caretWrapper:"_caretWrapper_1ei1u_152",appendPlt:"_appendPlt_1ei1u_175"},w={type:"button","aria-label":"刪除書籤"},H=e({__name:"ColorBlock",props:{hex:{}},setup(e){const C=e,h=a((()=>l(t(C.hex))>127.5)),m=a((()=>({filter:s(h)?"invert(1)":void 0}))),x=o(),y=()=>{x.favColorsChanged(C.hex)};return(e,a)=>n([e.hex],(()=>(r(),c("li",{class:k(i(j).colorBlock),style:p({backgroundColor:C.hex})},[u(v,{class:"ripple",style:p(m.value),"prepend-icon":"copy",text:C.hex,"aria-label":`複製HEX碼${C.hex}`,variant:"flat",onClick:a[0]||(a[0]=e=>i(d)(C.hex))},null,8,["style","text","aria-label"]),f("span",{class:k(i(j).delWrapper)},[f("button",w,[u(_,{type:"delete",onClick:y})])],2)],6))),a,1)}}),M=e({__name:"PaletteBlock",props:{plt:{}},setup(e){const l=e,t=l.plt.split("-").map((e=>`#${e}`)),n=a((()=>Math.round(1e4/t.length)/100)),d=a((()=>`linear-gradient(90deg, ${t.reduce(((e,a,l)=>e+=`${a} ${l*s(n)}%,${a} ${(l+1)*s(n)}%,`),"").slice(0,-1)})`)),v=C(),y=o(),b=()=>{for(const e of t)if(!x(e))return;v.setPlt(t)},g=()=>y.favPltsChanged(l.plt);return(e,a)=>(r(),c("li",{class:k(i(j).paletteBlock)},[f("div",{style:p({background:d.value})},[f("div",{class:k(i(j).caretWrapper)},[f("button",{type:"button","aria-label":"開啟書籤",onClick:b},[u(_,{type:"caretLeft"})])],2),f("span",{class:k(i(j).delWrapper)},[f("button",{type:"button","aria-label":"刪除書籤",onClick:g},[u(_,{type:"delete"})])],2)],4),f("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:a[0]||(a[0]=(...e)=>i(m)&&i(m)(...e))},h(e.plt),1)],2))}}),X=f("h2",null,"Bookmarks",-1),q=e({__name:"FavOffcanvas",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:y(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,n=b(e,"modelValue"),p=["Colors","Palettes"],d=g(0),_=g([]);function m(e){var a;O(e)&&(e.preventDefault(),s(d)!==p.length-1?null==(a=s(_)[++d.value])||a.$el.focus():(n.value=0,t("focusoutDialog")))}B(n,(async e=>{var a;await P(),e&&(null==(a=s(_)[s(d)])||a.$el.focus())}));const x=C(),y=o(),w=a((()=>x.cards.map((e=>e.hex.slice(1))).join("-"))),q=a((()=>y.plts.includes(s(w))?{icon:"unfavPallete",text:"Remove Pallete"}:{icon:"favPallete",text:"Append Pallete"}));function z(){y.favPltsChanged(s(w)),d.value=1}return(e,a)=>(r(),$(F,{role:"dialog",eager:1,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e)},{default:A((()=>[f("div",{class:k(i(j).favOffcanvas)},[f("header",{class:k(i(j).header)},[X,u(v,{icon:"close","aria-label":"關閉",onClick:a[0]||(a[0]=e=>n.value=0)})],2),f("div",{class:k(i(j).menuBar)},[(r(),c(W,null,D(p,((e,a)=>u(v,{key:`page ${e}`,ref_for:1,ref:e=>_.value[a]=e,text:e,class:k(a===d.value?i(j).selected:void 0),onClick:e=>d.value=a},null,8,["text","class","onClick"]))),64))],2),f("ul",{class:k(i(j).pageContent)},[0===d.value?(r(1),c(W,{key:0},D(i(y).colors,(e=>(r(),$(H,{key:`favColor ${e}`,hex:e},null,8,["hex"])))),128)):1===d.value?(r(1),c(W,{key:1},D(i(y).plts,(e=>(r(),$(M,{key:`favPlt ${e}`,plt:e},null,8,["plt"])))),128)):E("",1)],2),u(v,{"prepend-icon":q.value.icon,class:k(i(j).appendPlt),onKeydown:m,onClick:z},{default:A((()=>[V(h(q.value.text),1)])),_:1},8,["prepend-icon","class"])],2)])),_:1},8,["modelValue"]))}});export{q as default};
