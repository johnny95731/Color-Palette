import{d as a,c as n,ad as ie,ae as ue,a5 as Y,ah as Iu,ab as re,m as y,o as x,k as v,q as C,j as _,_ as j,H as P,b as c,ag as ke,ac as H,N as ce,l as h,L as oe,a6 as ee,f as l,u as s,t as F,B,J as E,e as m,r as e,w as r,n as p,h as f,p as k,F as U,D as M,I as q}from"./index-B9yzo3kp.js";import{_ as de}from"./VDialog.vue_vue_type_style_index_0_lang-gx7ZcAvF.js";const G={bookmarkers:"_bookmarkers_d319836",pageContent:"_pageContent_67ce6da",delWrapper:"_delWrapper_1c89be3",paletteBlock:"_paletteBlock_dbd98a9",colorBlock:"_colorBlock_fe3c75e",caretWrapper:"_caretWrapper_815895c",appendPlt:"_appendPlt_eb9ea18"},D=a({__name:"ColorBlock",props:{hex:{}},setup(a){const e=a,l=n((()=>ie(ue(e.hex))>127.5)),t=n((()=>({filter:Y(l)?"invert(1)":void 0}))),o=Iu(),s=()=>{o.be(e.hex)};return(a,l)=>re([a.hex],(()=>(x(),y("li",{class:h(c(G).colorBlock),style:P({backgroundColor:e.hex})},[v(H,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:_((({handleClick:a})=>[v(j,{class:"ripple",style:P(t.value),"prepend-icon":"copy",text:e.hex,"aria-label":`複製HEX碼${e.hex}`,variant:"flat",onClick:l=>{c(ke)(e.hex),a(l)}},null,8,["style","text","aria-label","onClick"])])),_:1}),C("span",{class:h(c(G).delWrapper)},[C("button",{type:"button","aria-label":"刪除書籤",onClick:s},[v(ce,{type:"trash3-fill"})])],2)],6))),l,0)}}),De=["onClick"],b=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const e=a,t=oe(e.plt.split("-"),(a=>`#${a}`)),o=n((()=>ee(1/t.length,2))),r=n((()=>`linear-gradient(90deg, ${l(t,((a,e,l)=>a+=`${e} ${l*Y(o)}%,${e} ${(l+1)*Y(o)}%,`),"").slice(0,-1)})`)),p=s(),i=Iu(),d=()=>{for(const a of t)if(!E(a))return;p.B(t)},u=()=>i.ge(e.plt);return(a,e)=>(x(),y("li",{class:h(c(G).paletteBlock)},[C("div",{style:P({background:r.value})},[C("div",{class:h(c(G).caretWrapper)},[C("button",{type:"button","aria-label":"開啟書籤",onClick:d},[v(ce,{type:"caret-left-fill"})])],2),C("span",{class:h(c(G).delWrapper)},[C("button",{type:"button","aria-label":"刪除書籤",onClick:u},[v(ce,{type:"trash3-fill"})])],2)],4),v(H,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:_((({handleClick:l})=>[C("button",{type:"button",class:"btn ripple","aria-label":"複製調色盤HEX碼",onClick:e=>{c(ke)(a.plt),l(e)}},[e[0]||(e[0]=C("div",{class:"btn__overlay"},null,-1)),F(" "+B(a.plt),1)],8,De)])),_:1})],2))}}),K=a({__name:"VBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(a){const l=m(a,"modelValue"),t=e(),o=["Colors","Palettes"],i=e(0);r(l,(async a=>{var e,l;await p(),a?null==(l=null==(e=c(t))?void 0:e.tabRefs[c(i)])||l.$el.focus():u.It()}));const d=a=>{var e,s;q(a)&&(a.preventDefault(),c(i)!==o.length-1?null==(s=null==(e=c(t))?void 0:e.tabRefs[++i.value])||s.$el.focus():l.value=!1)},u=s(),g=Iu(),B=n((()=>oe(u.T,(({bt:a})=>a.slice(1))).join("-"))),$=n((()=>{const a=g.ye(c(B));return{aa:"bookmark-"+(a?"dash":"plus"),ea:(a?"Remove":"Append")+" Pallete"}})),P=()=>{g.ge(c(B)),i.value=1};return(a,e)=>(x(),f(de,{ref_key:"dialogRef",ref:t,overlayProps:{contentClass:c(G).bookmarkers},title:"書籤",tabs:o,transparent:!1,transition:"slide-x",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),"tab-idx":i.value,"onUpdate:tabIdx":e[1]||(e[1]=a=>i.value=a)},{actions:_((()=>[v(j,{class:h(c(G).appendPlt),"prepend-icon":$.value.aa,text:$.value.ea,onKeydown:d,onClick:P},null,8,["class","prepend-icon","text"])])),default:_((()=>[C("ul",{class:h(c(G).pageContent)},[0===i.value?(x(!0),y(U,{key:0},M(c(g).pe,(a=>(x(),f(D,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===i.value?(x(!0),y(U,{key:1},M(c(g).me,(a=>(x(),f(b,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):k("",!0)],2)])),_:1},8,["overlayProps","modelValue","tab-idx"]))}});export{K as default};