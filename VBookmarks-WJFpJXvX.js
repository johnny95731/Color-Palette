import{d as e,c as d,a9 as de,ad as $u,a8 as re,q as V,o as f,l as _,v as h,k as b,_ as U,I as w,h as p,ac as pe,C as j,D as z,p as g,m as t,a4 as le,K as W,u as l,x as k,H as q,T,f as u,r as a,w as m,n as c,i as v,s as A,F as L,M as X,J as B}from"./index-ByZGjEZk.js";import{_ as G}from"./VDialog.vue_vue_type_style_index_0_lang-DsFvqvJA.js";const I={bookmarkers:"_bookmarkers_d319836",pageContent:"_pageContent_67ce6da",delWrapper:"_delWrapper_1c89be3",paletteBlock:"_paletteBlock_dbd98a9",colorBlock:"_colorBlock_fe3c75e",caretWrapper:"_caretWrapper_815895c",appendPlt:"_appendPlt_eb9ea18"},D=e({__name:"ColorBlock",props:{hex:{}},setup(a){const e=a,l=d((()=>({filter:de(e.hex)?"invert(1)":void 0}))),t=$u(),o=()=>{t.Ve(e.hex)};return(a,t)=>re([a.hex],(()=>(f(),V("li",{class:g(p(I).colorBlock),style:w({backgroundColor:e.hex})},[_(j,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:b((({handleClick:a})=>[_(U,{class:"ripple",style:w(l.value),"prepend-icon":"copy",text:e.hex,"aria-label":`複製HEX碼${e.hex}`,variant:"flat",onClick:l=>{p(pe)(e.hex),a(l)}},null,8,["style","text","aria-label","onClick"])])),_:1}),h("span",{class:g(p(I).delWrapper)},[h("button",{type:"button","aria-label":"刪除書籤",onClick:o},[_(z,{icon:"trash3-fill"})])],2)],6))),t,0)}}),we=["onClick"],y=e({__name:"PaletteBlock",props:{plt:{}},setup(a){const e=a,o=t(e.plt.split("-"),(a=>`#${a}`)),s=d((()=>{const a=le(1/o.length,2);return`linear-gradient(90deg, ${W(o,((e,l,t)=>e+`${l} ${t*a}%,${l} ${(t+1)*a}%,`),"").slice(0,-1)})`})),n=l(),r=$u(),i=()=>{for(const a of o)if(!T(a))return;n.T(o)},c=()=>r.Le(e.plt);return(a,e)=>(f(),V("li",{class:g(p(I).paletteBlock)},[h("div",{style:w({background:s.value})},[h("div",{class:g(p(I).caretWrapper)},[h("button",{type:"button","aria-label":"開啟書籤",onClick:i},[_(z,{icon:"caret-left-fill"})])],2),h("span",{class:g(p(I).delWrapper)},[h("button",{type:"button","aria-label":"刪除書籤",onClick:c},[_(z,{icon:"trash3-fill"})])],2)],4),_(j,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:b((({handleClick:l})=>[h("button",{type:"button",class:"btn ripple","aria-label":"複製調色盤HEX碼",onClick:e=>{p(pe)(a.plt),l(e)}},[e[0]||(e[0]=h("div",{class:"btn__overlay"},null,-1)),k(" "+q(a.plt),1)],8,we)])),_:1})],2))}}),K=e({__name:"VBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=u(e,"modelValue"),s=a(),n=["Colors","Palettes"],r=a(0);m(o,(async a=>{var e,l;await c(),a?null==(l=null==(e=p(s))?void 0:e.tabRefs[p(r)])||l.$el.focus():k.Xt()}));const i=a=>{var e,l;B(a)&&(a.preventDefault(),p(r)!==n.length-1?null==(l=null==(e=p(s))?void 0:e.tabRefs[++r.value])||l.$el.focus():o.value=!1)},k=l(),C=$u(),x=d((()=>t(k.$,(({Bt:a})=>a.slice(1))).join("-"))),$=d((()=>{const a=C.Re(p(x));return{aa:"bookmark-"+(a?"dash":"plus"),u:(a?"Remove":"Append")+" Pallete"}})),P=()=>{C.Le(p(x)),r.value=1};return(a,e)=>(f(),v(G,{ref_key:"dialogRef",ref:s,overlayProps:{contentClass:p(I).bookmarkers},title:"書籤",tabs:n,transparent:!1,transition:"slide-x",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),"tab-idx":r.value,"onUpdate:tabIdx":e[1]||(e[1]=a=>r.value=a)},{actions:b((()=>[_(U,{class:g(p(I).appendPlt),"prepend-icon":$.value.aa,text:$.value.u,onKeydown:i,onClick:P},null,8,["class","prepend-icon","text"])])),default:b((()=>[h("ul",{class:g(p(I).pageContent)},[0===r.value?(f(!0),V(L,{key:0},X(p(C).Oe,(a=>(f(),v(D,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===r.value?(f(!0),V(L,{key:1},X(p(C).Ee,(a=>(f(),v(y,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):A("",!0)],2)])),_:1},8,["overlayProps","modelValue","tab-idx"]))}});export{K as default};