import{d as e,c as a,r as l,h as t,u as o,w as s,o as n,a as r,b as u,n as c,e as p,f as i,_ as d,g as v,i as f,j as _,k,t as C,l as h,m,p as x,q as y,s as b,v as g,x as B,y as P,z as $,F as A,A as W,B as D,C as E,D as V,E as F}from"./index-TD0ELdDV.js";const O={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",colorBlock:"_colorBlock_1ei1u_1",favOffcanvas:"_favOffcanvas_1ei1u_15",header:"_header_1ei1u_34",menuBar:"_menuBar_1ei1u_55",selected:"_selected_1ei1u_66",pageContent:"_pageContent_1ei1u_71",delWrapper:"_delWrapper_1ei1u_81",paletteBlock:"_paletteBlock_1ei1u_103",caretWrapper:"_caretWrapper_1ei1u_152",appendPlt:"_appendPlt_1ei1u_175"},j={type:"button","aria-label":"刪除書籤"},w=e({__name:"ColorBlock",props:{hex:{}},setup(e){const k=e,C=a((()=>l(t(k.hex))>127.5)),h=a((()=>({filter:C.value?"invert(1)":void 0}))),m=o(),x=()=>{m.favColorsChanged(k.hex)};return(e,a)=>s([e.hex],(()=>(n(),r("li",{class:_(p(O).colorBlock),style:c({backgroundColor:k.hex})},[u(d,{class:"ripple",style:c(h.value),"prepend-icon":"copy",text:k.hex,"aria-label":`複製HEX碼${k.hex}`,variant:"flat",onClick:a[0]||(a[0]=e=>p(i)(k.hex))},null,8,["style","text","aria-label"]),v("span",{class:_(p(O).delWrapper)},[v("button",j,[u(f,{type:"delete",onClick:x})])],2)],6))),a,1)}}),H=e({__name:"PaletteBlock",props:{plt:{}},setup(e){const l=e,t=l.plt.split("-").map((e=>`#${e}`)),s=a((()=>Math.round(1e4/t.length)/100)),i=a((()=>`linear-gradient(90deg, ${t.reduce(((e,a,l)=>e+=`${a} ${l*s.value}%,${a} ${(l+1)*s.value}%,`),"").slice(0,-1)})`)),d=k(),x=o(),y=()=>{for(const e of t)if(!m(e))return;d.setPlt(t)},b=()=>x.favPltsChanged(l.plt);return(e,a)=>(n(),r("li",{class:_(p(O).paletteBlock)},[v("div",{style:c({background:i.value})},[v("div",{class:_(p(O).caretWrapper)},[v("button",{type:"button","aria-label":"開啟書籤",onClick:y},[u(f,{type:"caretLeft"})])],2),v("span",{class:_(p(O).delWrapper)},[v("button",{type:"button","aria-label":"刪除書籤",onClick:b},[u(f,{type:"delete"})])],2)],4),v("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:a[0]||(a[0]=(...e)=>p(h)&&p(h)(...e))},C(e.plt),1)],2))}}),M=v("h2",null,"Bookmarks",-1),X=e({__name:"FavOffcanvas",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:x(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,s=y(e,"modelValue"),c=["Colors","Palettes"],i=b(0),f=b([]);function h(e){var a;F(e)&&(e.preventDefault(),i.value!==c.length-1?null==(a=f.value[++i.value])||a.$el.focus():(s.value=0,t("focusoutDialog")))}g(s,(async e=>{var a;await B(),e&&(null==(a=f.value[i.value])||a.$el.focus())}));const m=k(),x=o(),j=a((()=>m.cards.map((e=>e.hex.slice(1))).join("-"))),X=a((()=>x.plts.includes(j.value)?{icon:"unfavPallete",text:"Remove Pallete"}:{icon:"favPallete",text:"Append Pallete"}));function q(){x.favPltsChanged(j.value),i.value=1}return(e,a)=>(n(),P(V,{role:"dialog",eager:1,transition:"slide-x",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e)},{default:$((()=>[v("div",{class:_(p(O).favOffcanvas)},[v("header",{class:_(p(O).header)},[M,u(d,{icon:"close","aria-label":"關閉",onClick:a[0]||(a[0]=e=>s.value=0)})],2),v("div",{class:_(p(O).menuBar)},[(n(),r(A,null,W(c,((e,a)=>u(d,{key:`page ${e}`,ref_for:1,ref:e=>f.value[a]=e,text:e,class:_(a===i.value?p(O).selected:void 0),onClick:e=>i.value=a},null,8,["text","class","onClick"]))),64))],2),v("ul",{class:_(p(O).pageContent)},[0===i.value?(n(1),r(A,{key:0},W(p(x).colors,(e=>(n(),P(w,{key:`favColor ${e}`,hex:e},null,8,["hex"])))),128)):1===i.value?(n(1),r(A,{key:1},W(p(x).plts,(e=>(n(),P(H,{key:`favPlt ${e}`,plt:e},null,8,["plt"])))),128)):D("",1)],2),u(d,{"prepend-icon":X.value.icon,class:_(p(O).appendPlt),onKeydown:h,onClick:q},{default:$((()=>[E(C(X.value.text),1)])),_:1},8,["prepend-icon","class"])],2)])),_:1},8,["modelValue"]))}});export{X as default};
