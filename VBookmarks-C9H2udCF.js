import{d as a,c as d,ac as ue,ad as me,a4 as Q,ag as Pu,E as B,m as A,o as x,k as _,q as k,j as b,_ as L,H as G,b as m,af as ke,y as S,z,l as V,K as se,a7 as te,f as o,u as t,t as D,D as W,T as O,e as p,r as l,w as c,n as f,h as v,p as C,F as U,L as ee,I}from"./index-6uS0ZIdU.js";import{_ as w}from"./VDialog.vue_vue_type_style_index_0_lang-BnswKplW.js";const e={bookmarkers:"_bookmarkers_d319836",pageContent:"_pageContent_67ce6da",delWrapper:"_delWrapper_1c89be3",paletteBlock:"_paletteBlock_dbd98a9",colorBlock:"_colorBlock_fe3c75e",caretWrapper:"_caretWrapper_815895c",appendPlt:"_appendPlt_eb9ea18"},F=a({__name:"ColorBlock",props:{hex:{}},setup(a){const l=a,t=d((()=>ue(me(l.hex))>127.5)),o=d((()=>({filter:Q(t)?"invert(1)":void 0}))),s=Pu(),n=()=>{s.Ce(l.hex)};return(a,t)=>B([a.hex],(()=>(x(),A("li",{class:V(m(e).colorBlock),style:G({backgroundColor:l.hex})},[_(S,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:b((({handleClick:a})=>[_(L,{class:"ripple",style:G(o.value),"prepend-icon":"copy",text:l.hex,"aria-label":`複製HEX碼${l.hex}`,variant:"flat",onClick:e=>{m(ke)(l.hex),a(e)}},null,8,["style","text","aria-label","onClick"])])),_:1}),k("span",{class:V(m(e).delWrapper)},[k("button",{type:"button","aria-label":"刪除書籤",onClick:n},[_(z,{type:"trash3-fill"})])],2)],6))),t,0)}}),He=["onClick"],g=a({__name:"PaletteBlock",props:{plt:{}},setup(a){const l=a,s=se(l.plt.split("-"),(a=>`#${a}`)),n=d((()=>te(1/s.length,2))),r=d((()=>`linear-gradient(90deg, ${o(s,((a,e,l)=>a+=`${e} ${l*Q(n)}%,${e} ${(l+1)*Q(n)}%,`),"").slice(0,-1)})`)),p=t(),i=Pu(),c=()=>{for(const a of s)if(!O(a))return;p.B(s)},u=()=>i.ke(l.plt);return(a,l)=>(x(),A("li",{class:V(m(e).paletteBlock)},[k("div",{style:G({background:r.value})},[k("div",{class:V(m(e).caretWrapper)},[k("button",{type:"button","aria-label":"開啟書籤",onClick:c},[_(z,{type:"caret-left-fill"})])],2),k("span",{class:V(m(e).delWrapper)},[k("button",{type:"button","aria-label":"刪除書籤",onClick:u},[_(z,{type:"trash3-fill"})])],2)],4),_(S,{location:"top",text:"Copied",openOnHover:!1,openOnClick:"",eager:!1},{activator:b((({handleClick:e})=>[k("button",{type:"button",class:"btn ripple","aria-label":"複製調色盤HEX碼",onClick:l=>{m(ke)(a.plt),e(l)}},[l[0]||(l[0]=k("div",{class:"btn__overlay"},null,-1)),D(" "+W(a.plt),1)],8,He)])),_:1})],2))}}),K=a({__name:"VBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(a){const o=p(a,"modelValue"),s=l(),n=["Colors","Palettes"],r=l(0);c(o,(async a=>{var e,l;await f(),a?null==(l=null==(e=m(s))?void 0:e.tabRefs[m(r)])||l.$el.focus():u.zt()}));const i=a=>{var e,l;I(a)&&(a.preventDefault(),m(r)!==n.length-1?null==(l=null==(e=m(s))?void 0:e.tabRefs[++r.value])||l.$el.focus():o.value=!1)},u=t(),y=Pu(),h=d((()=>se(u.T,(({$t:a})=>a.slice(1))).join("-"))),B=d((()=>{const a=y.we(m(h));return{aa:"bookmark-"+(a?"dash":"plus"),ea:(a?"Remove":"Append")+" Pallete"}})),$=()=>{y.ke(m(h)),r.value=1};return(a,l)=>(x(),v(w,{ref_key:"dialogRef",ref:s,overlayProps:{contentClass:m(e).bookmarkers},title:"書籤",tabs:n,transparent:!1,transition:"slide-x",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=a=>o.value=a),"tab-idx":r.value,"onUpdate:tabIdx":l[1]||(l[1]=a=>r.value=a)},{actions:b((()=>[_(L,{class:V(m(e).appendPlt),"prepend-icon":B.value.aa,text:B.value.ea,onKeydown:i,onClick:$},null,8,["class","prepend-icon","text"])])),default:b((()=>[k("ul",{class:V(m(e).pageContent)},[0===r.value?(x(!0),A(U,{key:0},ee(m(y).ve,(a=>(x(),v(F,{key:`favColor ${a}`,hex:a},null,8,["hex"])))),128)):1===r.value?(x(!0),A(U,{key:1},ee(m(y).be,(a=>(x(),v(g,{key:`favPlt ${a}`,plt:a},null,8,["plt"])))),128)):C("",!0)],2)])),_:1},8,["overlayProps","modelValue","tab-idx"]))}});export{K as default};