import{d as a,r as e,u as s,a as t,f as l,C as o,c as n,G as d,M as i,w as r,g as u,b as m,e as c,n as p,h as f,o as x,i as _,j as g,k as v,_ as b,l as h,m as y,p as V,s as k,q as C,t as F,v as D,F as U,x as j,y as I,z as M,A as w,B as z,D as B,E as P,H as R,I as S,J as T}from"./index-B1MLadSF.js";import{$ as q}from"./SettingDialog.module-VQ_Dx6mv.js";import{_ as A}from"./VDialog.vue_vue_type_style_index_0_lang-RN5oy6TX.js";const E={contrastDialog:"_contrastDialog_1ae27ea",hex:"_hex_f118437",example:"_example_4d8b657"},G=a({__name:"ContrastDialog",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(a){const G=e(),H=s(),J=["調整","計算"],K=e(0),L=a=>{S(a)&&(a.preventDefault(),aa.value=!1)},N=t(l(o,((a,e,s)=>(a[s]=1,a)),{t:0})),Q=n((()=>N.t?d:i)),X=()=>{H.l(N.t,N[N.t])},$=a=>{H.o(a),N[N.t]=1,X()},O=e("#FFFFFF"),W=e("#000000");r(O,(a=>{}));const Y=function(a,e){const s="bg"===e?O:W,t=a.currentTarget.value;t!==m(s)&&T(t)&&(s.value=t)},Z=n((()=>u(m(O),m(W)))),aa=c(a,"modelValue");return r(aa,(async a=>{var e,s;await p(),a&&0===m(K)?(H.o("start"),X()):!a&&H.i&&H.o("cancel"),null==(s=null==(e=m(G))?void 0:e.tabRefs[m(K)])||s.$el.focus()}),{flush:"post"}),r(K,((a,e)=>{0===a?(H.o("start"),X()):0===e&&H.o("cancel")}),{flush:"post",immediate:!0}),(a,e)=>(x(),f(A,{ref_key:"dialogRef",ref:G,overlayProps:{contentClass:m(E).contrastDialog},title:"對比",tabs:J,modelValue:aa.value,"onUpdate:modelValue":e[17]||(e[17]=a=>aa.value=a),"tab-idx":K.value,"onUpdate:tabIdx":e[18]||(e[18]=a=>K.value=a)},_({default:g((()=>[0===K.value?(x(),y("div",{key:0,class:h(m(q).region)},[e[0]||(k(-1),(e[0]=C("label",{id:"contrast-method"},[e[19]||(e[19]=F("Method"))])).cacheIndex=0,k(1),e[0]),v(D,{label:"#contrast-method",items:m(o),index:N.t,"onUpdate:idx":e[1]||(e[1]=a=>{return e=a,N.t=e,H.o("reset"),void X();var e})},null,8,["items","index"]),2!==N.t?(x(),y(U,{key:0},[e[20]||(e[20]=C("label",{id:"contrast-coeff-name"},"Coeff.",-1)),v(j,{label:"#contrast-coeff-name",max:Q.value,step:"0.001","model-value":N[N.t],"onUpdate:modelValue":e[2]||(e[2]=a=>{N[N.t]=a,X()})},null,8,["max","model-value"])],64)):V("",!0)],2)):1===K.value?(x(),y(U,{key:1},[C("div",{class:h(m(q).region)},[e[3]||(k(-1),(e[3]=C("h3",null,[e[21]||(e[21]=F(" 對比值計算 "))])).cacheIndex=3,k(1),e[3]),e[4]||(k(-1),(e[4]=C("label",{for:"contrast-ratio-bg"},[e[22]||(e[22]=F("背景顏色"))])).cacheIndex=4,k(1),e[4]),I(C("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>O.value=a),id:"contrast-ratio-bg",class:h(m(E).hex),maxlength:"7",size:"7",onInput:e[6]||(e[6]=a=>m(M)(a)),onChange:e[7]||(e[7]=a=>Y(a,"bg"))},null,34),[[w,O.value]]),e[8]||(k(-1),(e[8]=C("label",{for:"contrast-ratio-text"},[e[23]||(e[23]=F("文字顏色"))])).cacheIndex=8,k(1),e[8]),I(C("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>W.value=a),id:"contrast-ratio-text",class:h(m(E).hex),maxlength:"7",size:"7",onInput:e[10]||(e[10]=a=>m(M)(a)),onChange:e[11]||(e[11]=a=>Y(a,"fg"))},null,34),[[w,W.value]]),e[24]||(e[24]=C("span",null,"對比值",-1)),C("div",null,z(Z.value),1)],2),C("div",{class:h([m(E).example])},[e[12]||(k(-1),(e[12]=C("h3",null,[e[25]||(e[25]=F(" 範例 "))])).cacheIndex=12,k(1),e[12]),(x(),y(U,null,B(5,((a,s,t,l)=>{const o=[O.value,W.value];if(l&&l.key===a&&P(l,o))return l;const n=(x(),y("div",{key:a,style:R({background:O.value,color:W.value}),"aria-hidden":"true"},[e[26]||(e[26]=F(" Text "))],4));return n.memo=o,n}),e,13),64))],2)],64)):V("",!0)])),_:2},[0===K.value?{name:"actions",fn:g((()=>[v(b,{text:"重置",onClick:e[15]||(e[15]=a=>$("reset"))}),v(b,{class:h(m(E).applyBtn),text:"套用",onKeydown:L,onClick:e[16]||(e[16]=a=>$("start"))},null,8,["class"])])),key:"0"}:void 0]),1032,["overlayProps","modelValue","tab-idx"]))}});export{G as default};