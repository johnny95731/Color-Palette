@use "@/assets/commons.module.scss" as *;

$transDuration: 120ms;
.btn {
  // layout
  position: relative;
  display: grid;
  align-items: center;
  justify-content: center;
  grid-template-areas: "prepend content append";
  grid-template-columns: max-content auto max-content;
  column-gap: 4px;
  text-align: center;
  // shape;
  border: none;
  border-radius: $radius-lg;
  padding: 4px 8px;
  overflow: hidden;
  box-sizing: border-box;
  // style
  background-color: inherit;
  color: inherit;
  font-size: $font-md;
  font-weight: 600;

  user-select: none;
  cursor: pointer;

  &:hover,
  &:focus-visible {
    > .btn__overlay {
      opacity: var(--overlay-hover-opacity);
    }
  }
  &:focus-visible {
    outline: 1px dashed currentColor;
  }
  @supports not selector(:focus-visible) {
    &:focus {
      outline: 1px dashed currentColor;
      & > .btn__overlay{
        opacity: var(--overlay-hover-opacity);
      }
    }
  }
}

.btn.icon {
  aspect-ratio: 1 / 1;
}

.btn__overlay {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;

  background-color: currentColor;
  opacity: 0;
  pointer-events: none;
}

.btn__content,
.btn__prepend,
.btn__append {
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn__prepend {
  grid-area: prepend;
}

.btn__content {
  grid-area: content;
}

.btn__append {
  grid-area: append;
}

:root {
  --overlay-hover-opacity: 0.14;
}
