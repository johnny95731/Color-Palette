import{d as e,c as a,V as l,A as t,E as o,W as s,P as n,j as r,k as c,N as p,p as u,n as i,X as d,_,l as v,Y as h,M as x,D as f,y as k,Z as C,i as m,m as y,f as g,r as b,w as P,$ as B,J as $,K as A,F as W,x as E,S as V,q as D,T as F,a0 as j}from"./index-BnVAz0mL.js";const w={color1:"#FAFAFA",color2:"#EAEAEA",color3:"#C0C0C0",color4:"#707070",color5:"#1D1D57",colorBlock:"_colorBlock_1x6ah_1",container:"_container_1x6ah_15",header:"_header_1x6ah_30",menuBar:"_menuBar_1x6ah_51",selected:"_selected_1x6ah_62",pageContent:"_pageContent_1x6ah_67",delWrapper:"_delWrapper_1x6ah_77",paletteBlock:"_paletteBlock_1x6ah_99",caretWrapper:"_caretWrapper_1x6ah_148",appendPlt:"_appendPlt_1x6ah_171"},M={type:"button","aria-label":"刪除書籤"},X=e({__name:"ColorBlock",props:{hex:{}},setup(e){const f=e,k=a((()=>l(t(f.hex))>127.5)),C=a((()=>({filter:o(k)?"invert(1)":void 0}))),m=s(),y=()=>{m.favColorsChanged(f.hex)};return(e,a)=>n([e.hex],(()=>(r(),c("li",{class:x(i(w).colorBlock),style:u({backgroundColor:f.hex})},[p(_,{class:"ripple",style:u(C.value),"prepend-icon":"copy",text:f.hex,"aria-label":`複製HEX碼${f.hex}`,variant:"flat",onClick:a[0]||(a[0]=e=>i(d)(f.hex))},null,8,["style","text","aria-label"]),v("span",{class:x(i(w).delWrapper)},[v("button",M,[p(h,{type:"delete",onClick:y})])],2)],6))),a,1)}}),H=e({__name:"PaletteBlock",props:{plt:{}},setup(e){const l=e,t=l.plt.split("-").map((e=>`#${e}`)),n=a((()=>Math.round(1e4/t.length)/100)),d=a((()=>`linear-gradient(90deg, ${t.reduce(((e,a,l)=>e+=`${a} ${l*o(n)}%,${a} ${(l+1)*o(n)}%,`),"").slice(0,-1)})`)),_=f(),y=s(),g=()=>{for(const e of t)if(!m(e))return;_.setPlt(t)},b=()=>y.favPltsChanged(l.plt);return(e,a)=>(r(),c("li",{class:x(i(w).paletteBlock)},[v("div",{style:u({background:d.value})},[v("div",{class:x(i(w).caretWrapper)},[v("button",{type:"button","aria-label":"開啟書籤",onClick:g},[p(h,{type:"caretLeft"})])],2),v("span",{class:x(i(w).delWrapper)},[v("button",{type:"button","aria-label":"刪除書籤",onClick:b},[p(h,{type:"delete"})])],2)],4),v("button",{type:"button",class:"ripple","aria-label":"複製調色盤HEX碼",onClick:a[0]||(a[0]=(...e)=>i(C)&&i(C)(...e))},k(e.plt),1)],2))}}),K=e({__name:"TheBookmarks",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:y(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:l}){const t=l,n=g(e,"modelValue"),u=["Colors","Palettes"],d=b(0),h=b([]);function C(e){var a;j(e)&&(e.preventDefault(),o(d)!==u.length-1?null==(a=o(h)[++d.value])||a.$el.focus():(n.value=0,t("focusoutDialog")))}P(n,(async e=>{var a;await B(),e?null==(a=o(h)[o(d)])||a.$el.focus():m.setEditingIdx()}));const m=f(),y=s(),M=a((()=>m.cards.map((e=>e.hex.slice(1))).join("-"))),K=a((()=>y.plts.includes(o(M))?{icon:"unfavPallete",text:"Remove Pallete"}:{icon:"favPallete",text:"Append Pallete"}));function T(){y.favPltsChanged(o(M)),d.value=1}return(e,a)=>(r(),$(F,{"content-class":i(w).container,role:"dialog",type:"offcanvas",eager:1,transition:"slide-x",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e)},{default:A((()=>[v("header",{class:x(i(w).header)},[a[2]||(a[2]=v("h2",null,"書籤",-1)),p(_,{icon:"close","aria-label":"關閉",onClick:a[0]||(a[0]=e=>n.value=0)})],2),v("div",{class:x(i(w).menuBar)},[(r(),c(W,null,E(u,((e,a)=>p(_,{key:`page ${e}`,ref_for:1,ref:e=>h.value[a]=e,text:e,class:x(a===d.value?i(w).selected:void 0),onClick:e=>d.value=a},null,8,["text","class","onClick"]))),64))],2),v("ul",{class:x(i(w).pageContent)},[0===d.value?(r(1),c(W,{key:0},E(i(y).colors,(e=>(r(),$(X,{key:`favColor ${e}`,hex:e},null,8,["hex"])))),128)):1===d.value?(r(1),c(W,{key:1},E(i(y).plts,(e=>(r(),$(H,{key:`favPlt ${e}`,plt:e},null,8,["plt"])))),128)):V("",1)],2),p(_,{"prepend-icon":K.value.icon,class:x(i(w).appendPlt),onKeydown:C,onClick:T},{default:A((()=>[D(k(K.value.text),1)])),_:1},8,["prepend-icon","class"])])),_:1},8,["content-class","modelValue"]))}});export{K as default};
