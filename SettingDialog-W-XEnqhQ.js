import{d as e,a8 as a,r as l,c as o,ab as t,o as s,ac as n,w as i,u as d,v as r,n as c,D as u,s as m,x as b,a2 as p,ad as f,ae as v,V as h,I as _,a4 as y,Q as k,af as x,a9 as V,b as g,a as w,a7 as C,ag as U,ah as B,ai as D,l as K,q as M,y as R,K as S,W as T,J as j,F as A,A as F,L as I,aj as L,B as W,_ as q,aa as J}from"./index-CwuQyJEI.js";const N={settingDialog:"_settingDialog_9bb1593",header:"_header_2c5f7e3",menubar:"_menubar_564d4ca",tab:"_tab_50d76f2",selected:"_selected_8b64160",content:"_content_db42e1f",region:"_region_59377cb",buttons:"_buttons_e45b47e",applyBtn:"_applyBtn_a9422a6",resetBtn:"_resetBtn_1030e7d"},O={class:"switch"},P=["id","value","checked"],Q=["aria-checked","value"],$=["for"],z=e({__name:"TheSwitch",props:a({inputId:{},label:{},hideLabel:{type:Boolean},value:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,k=l(),x=l(),V=o((()=>a.inputId??t("slider"))),g=o((()=>{var e;return a.label?(null==(e=a.label)?void 0:e.startsWith("#"))?{"aria-labelledby":a.label.slice(1)}:{"aria-label":a.label}:{}}));s((()=>{var e;if(!(null==(e=a.label)?void 0:e.startsWith("#")))return;const l=document.getElementById(a.label.slice(1));l&&(l.htmlFor=n(V))})),i((()=>[a.label,n(V)]),((e,a)=>{var l;const o=e[0]===a[0],t=e[1]===a[1];if(o||[a[0],e[0]].forEach(((a,l)=>{if(a&&a.startsWith("#")){const o=document.getElementById(a.slice(1));o&&(0===l?o.removeAttribute("for"):o.setAttribute("for",e[1]))}})),!t&&(null==(l=e[0])?void 0:l.startsWith("#"))){const a=document.getElementById(e[0].slice(1));a&&(a.htmlFor=e[1])}}));const w=d(e,"modelValue");function C(){y(w)}function U(e){" "===e.key.toLowerCase()&&y(w)}return(e,a)=>(c(),r("div",O,[u(m("input",f({class:"field",ref_key:"inputRef",ref:k},g.value,{id:V.value,type:"checkbox",value:e.value,checked:w.value,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value=e),onFocus:a[1]||(a[1]=e=>{var a;null==(a=x.value)||a.focus()})}),null,16,P),[[p,w.value]]),m("div",f({ref_key:"switchRef",ref:x},g.value,{class:"switch__slider",tabindex:"0",role:"switch","aria-checked":w.value,value:e.value,onClick:C,onKeydown:U}),null,16,Q),g.value["aria-label"]?(c(),r("label",{key:0,class:h([e.hideLabel&&"field"]),for:V.value,onClick:a[2]||(a[2]=v((e=>{var a;C(),null==(a=x.value)||a.focus()}),["prevent"]))},_(g.value["aria-label"]),11,$)):b("",!0)]))}}),E=["white","gray","black"],G=["modern","legacy"],H=e({__name:"SettingDialog",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:a(["focusoutDialog"],["update:modelValue"]),setup(e,{emit:a}){const t=a,s=d(e,"modelValue"),n=k(),u=x(),p=["Card","Contrast"],f=l(0),v=l([]);function _(e){J(e)&&(e.preventDefault(),s.value=!1,t("focusoutDialog"))}i(s,(async e=>{var a;await V(),e&&1===f.value?(n.l("start"),H()):!e&&n.o&&n.l("cancel"),null==(a=g(v)[g(f)])||a.$el.focus()}));const y=e=>{1===e?(n.l("start"),H()):1===f.value&&n.l("cancel"),f.value=e},O=w({pos:u.transition.pos,color:u.transition.color}),P=(e,a)=>{"pos"===a?O.pos=e:O.color=e,u.t(a,e)},Q=w(C(U,((e,a,l)=>(e[l]=1,e)),{method:0})),$=o((()=>Q.method?B:D));function H(){n.i(Q.method,Q[Q.method])}const X=e=>{n.l(e),Q[Q.method]=1,H()};return(e,a)=>(c(),K(q,{"content-class":g(N).settingDialog,role:"dialog",eager:!0,transition:"slide-y",transparent:"",modelValue:s.value,"onUpdate:modelValue":a[12]||(a[12]=e=>s.value=e)},{default:M((()=>[a[0]||(R(-1),(a[0]=m("header",{class:h(g(N).header)},[a[13]||(a[13]=m("h2",null,"設定",-1)),S(T,{icon:"x-lg","aria-label":"close",onClick:e=>s.value=!1},null,8,["onClick"])],2)).cacheIndex=0,R(1),a[0]),m("div",{class:h(g(N).menubar)},[(c(),r(j,null,A(p,((e,a)=>S(T,{key:`setting-${e}`,ref_for:!0,ref:e=>v.value[a]=e,class:h([g(N).tab,a===f.value&&g(N).selected]),text:e,onClick:e=>y(a)},null,8,["class","text","onClick"]))),64))],2),m("div",{class:h(g(N).content)},[0===f.value?(c(),r(j,{key:0},[m("div",{class:h(g(N).region),"aria-labelledby":"title-border"},[a[16]||(a[16]=m("h3",{id:"title-border"}," Border ",-1)),a[17]||(a[17]=m("span",null,"Show",-1)),S(z,{label:"show border","hide-label":"","model-value":g(u).border.show,"onUpdate:modelValue":a[1]||(a[1]=e=>g(u).u("show",e))},null,8,["model-value"]),g(u).border.show?(c(),r(j,{key:0},[a[14]||(a[14]=m("label",{id:"border-width"},"Width(px)",-1)),S(F,{label:"#border-width",max:g(10),"model-value":g(u).border.width,"onUpdate:modelValue":a[2]||(a[2]=e=>g(u).u("width",e))},null,8,["max","model-value"]),a[15]||(a[15]=m("label",{id:"border-color"},"Color",-1)),S(I,{label:"#border-color",items:g(E),"letter-case":"start","model-value":g(u).border.color,"onUpdate:modelValue":a[3]||(a[3]=e=>g(u).u("color",e))},null,8,["items","model-value"])],64)):b("",!0)],2),m("div",{class:h(g(N).region),"aria-labelledby":"title-transition"},[a[18]||(a[18]=m("h3",{id:"title-transition"}," Transition ",-1)),a[19]||(a[19]=m("label",{id:"transition-position"},"Position(ms)",-1)),S(F,{label:"#transition-position",max:g(1e3),step:"50","model-value":g(u).transition.pos,"onUpdate:modelValue":a[4]||(a[4]=e=>P(e,"pos"))},null,8,["max","model-value"]),a[20]||(a[20]=m("label",{id:"transition-color"},"Color(ms)",-1)),S(F,{label:"#transition-color",max:g(3e3),step:"50","model-value":O.color,"onUpdate:modelValue":a[5]||(a[5]=e=>P(e,"color")),onKeydown:a[6]||(a[6]=L((e=>y(1)),["tab"]))},null,8,["max","model-value"])],2),m("div",{class:h(g(N).region),"aria-labelledby":"title-Transition"},[a[21]||(a[21]=m("h3",{id:"title-others"}," Others ",-1)),a[22]||(a[22]=m("label",{id:"color-notation"},"Color Notation",-1)),S(I,{modelValue:g(u).m,"onUpdate:modelValue":a[7]||(a[7]=e=>g(u).m=e),label:"#color-notation",items:g(G),"letter-case":"start"},null,8,["modelValue","items"])],2)],64)):1===f.value?(c(),r("div",{key:1,class:h(g(N).region)},[a[8]||(R(-1),(a[8]=m("label",{id:"contrast-method"},[a[23]||(a[23]=W("Method"))])).cacheIndex=8,R(1),a[8]),S(I,{label:"#contrast-method",items:g(U),index:Q.method,"onUpdate:index":a[9]||(a[9]=e=>{return a=e,Q.method=a,n.l("reset"),void H();var a})},null,8,["items","index"]),2!==Q.method?(c(),r(j,{key:0},[a[24]||(a[24]=m("label",{id:"contrast-coeff-name"},"Coeff.",-1)),S(F,{label:"#contrast-coeff-name",max:$.value,step:"0.001","model-value":Q[Q.method],"onUpdate:modelValue":a[10]||(a[10]=e=>{Q[Q.method]=e,H()})},null,8,["max","model-value"])],64)):b("",!0),a[11]||(R(-1),(a[11]=m("div",{class:h(g(N).buttons)},[S(T,{text:"Reset",class:h(g(N).resetBtn),onClick:e=>X("reset")},null,8,["class","onClick"]),S(T,{text:"Apply",class:h(g(N).applyBtn),onKeydown:_,onClick:e=>X("start")},null,8,["class","onClick"])],2)).cacheIndex=11,R(1),a[11])],2)):b("",!0)],2)])),p:1},8,["content-class","modelValue"]))}});export{H as default};
